<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Outsource Your Creative Genius | Quantum Scale</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
  <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js" defer></script>
  <script src="../shared/greetings.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #f97316; --accent-dark: #ea580c; --accent-light: #fdba74; --accent-rgb: 249, 115, 22; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: transparent; -webkit-font-smoothing: antialiased; }
    .title-font { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    h1, h2, h3, .slide-title { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    ::selection { background: var(--accent); color: white; }
    .slide-scroll::-webkit-scrollbar { display: none; }
    .slide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { motion, AnimatePresence } = window.Motion;
    const { useState, useEffect, useCallback, useMemo } = React;

    const getUserName = () => { const params = new URLSearchParams(window.location.search); return params.get('userName') || 'Builder'; };

    const LESSON_CONFIG = {
      id: 'google-influencer-creative',
      title: 'Outsource Your Creative Genius',
      description: 'The scaling hack: hire influencers to create your ad content',
      accentColor: '#f97316',
      duration: '4 min',
      nextLesson: { id: 'google-signal-mastery', title: 'Signal Mastery', teaser: 'Learn how to send Google the right conversion signals.' }
    };

    const celebrationGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_a_quick_victory_dance_move_high_energy_c_d03b798b-a518-4e6c-bcae-d69b2dd50486_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_jumping_in_the_air_arms_raised_high_YESSS_cele_201477e8-3df4-405a-bc81-81d1747e5c6c_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_playing_air_guitar_light_headbanging_rockstar__0702007e-9e84-4d9e-8f99-8ee23d0b65f8_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_the_running_man_dance_move_vintage_cool__25682b0f-cf4c-4e93-8dcb-6c3dac8135cd_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_standing_and_clapping_enthusiastically_mouth_o_992ac4fd-9a0e-4963-bbcc-a5271f25f4fd_3.mp4'
    ];
    const getRandomCelebrationGif = () => celebrationGifs[Math.floor(Math.random() * celebrationGifs.length)];

    const empathyGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_thumbs_down_with_encouraging_nod_close_keep_go_613e541f-c072-436f-aee7-f99cd6f834fc_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_shaking_head_side_to_side_sadly_disappointed_e_c4a4be22-6a70-4738-8612-3039454fef37_1.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_covering_face_with_palm_facepalm_gesture_disap_211b0566-078f-4d42-9c41-547b14f5827c_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_looking_down_sadly_shoulders_slumped_disappoin_790d48bd-e49e-40ea-9979-d3e86fa3a422_2.mp4'
    ];
    const getRandomEmpathyGif = () => empathyGifs[Math.floor(Math.random() * empathyGifs.length)];

    const slides = [
      { type: 'welcome', learningGoals: ['Why video creative becomes the bottleneck when scaling beyond Search', 'How influencers solve the production problem with professional content', 'The triple benefit: expertise, credibility, and efficiency', 'Why influencer-based creative delivers higher ROAS consistently'] },
      { type: 'hook', headline: 'You\'re ready to scale from Search into YouTube and Display. You need video ads. Lots of them. You have two options: spend weeks learning video production or hire creators who already know how. Which gets you profitable faster?', subtext: 'The entrepreneurs who scale don\'t try to become filmmakers. They leverage professionals who create scroll-stopping content for a living.' },
      { type: 'content', title: 'The Scaling Problem', body: 'Google Search Shopping campaigns work brilliantly. You\'re profitable. Now you want to scale by expanding into:\n\nâ€¢ YouTube Shopping Ads\nâ€¢ Performance Max (includes Display & YouTube)\nâ€¢ Discovery Ads\n\nThe Problem:\nAll of these require VIDEO creative. Not product photos. Not text ads. Professional video content that stops the scroll, builds trust, and drives conversions.\n\nYou don\'t have:\nâ€¢ Video production skills\nâ€¢ Professional equipment\nâ€¢ Time to learn editing\nâ€¢ A content creation team\n\nYou could spend months learning. Or you could hire people who already know.\n\nThis is where influencer partnerships become the scaling unlock.' },
      { type: 'mockup', title: 'The Creative Production Problem', description: 'Doing it yourself means complex equipment and steep learning curves. The bottleneck slows your scaling.', mockupType: 'diy-problem' },
      { type: 'content', title: 'The Hack: Hire Influencers', body: 'Here\'s the strategy that pros use:\n\nInstead of trying to become video producers, they hire micro-influencers and content creators to produce ad creative.\n\nHow it works:\n1. Find influencers in your niche (10K-100K followers)\n2. Send them your product\n3. Pay them to create 3-5 video testimonials/reviews\n4. Use these videos as your YouTube & Display ad creative\n\nCost: $200-$1,000 per influencer for 3-5 videos\n\nThe Triple Benefit:\n\n1. Expertise: They\'re professionals at creating engaging video content. They know lighting, angles, hooks, pacing.\n\n2. Credibility: Their endorsement carries social proof. "Real person recommends this" beats "brand talks about itself."\n\n3. Efficiency: You get professional video content in days, not months. No learning curve. No equipment investment.' },
      { type: 'mockup', title: 'The Influencer Solution', description: 'Influencers create professional, authentic content quickly. You get expertise, credibility, and speed.', mockupType: 'influencer-solution' },
      { type: 'content', title: 'Why It Works So Well', body: 'Campaigns using influencer-created content consistently outperform brand-created content. Here\'s why:\n\nAuthenticity:\nPeople scroll past obvious ads. But a real person saying "I tried this and here\'s what happened" stops the scroll. It feels like a friend\'s recommendation, not a sales pitch.\n\nProfessional Quality:\nInfluencers are content creators. This is literally their job. They know how to:\nâ€¢ Hook attention in 3 seconds\nâ€¢ Frame shots that look professional\nâ€¢ Edit for pacing and engagement\nâ€¢ Deliver testimonials that feel genuine\n\nSpeed to Market:\nInstead of spending 3 months learning video production, you get professional creative in 1-2 weeks. Ship fast. Test fast. Scale what works.\n\nThe Result:\nInfluencer-based creative nearly always delivers higher CTR and ROAS than DIY content. You\'re leveraging expertise instead of reinventing the wheel.' },
      { type: 'quiz', question: 'What\'s the main advantage of hiring influencers to create your ad content instead of doing it yourself?', options: ['It\'s always cheaper than DIY video production', 'You get professional expertise, social proof credibility, and fast execution all at once', 'Influencers have more followers than you', 'You don\'t need to send them products'], correctIndex: 1, feedback: { correct: 'Exactly! The triple benefit is what makes this strategy powerful. Influencers are professional content creators (expertise), their endorsement carries social proof weight (credibility), and you get high-quality videos in days instead of months (efficiency). This combination consistently delivers higher ROAS than brand-created content because it stops the scroll with authentic recommendations from trusted voices.', incorrect: 'Not quite. The real advantage is the TRIPLE benefit: (1) Expertise - they\'re professionals at creating engaging video, (2) Credibility - their endorsement adds social proof that beats brand messaging, and (3) Efficiency - you get professional content in weeks, not months. This combination is why influencer-created ads consistently outperform DIY content. You\'re not just saving time - you\'re leveraging specialized skills that directly improve conversion rates.' }},
      { type: 'completion', sources: [{ name: 'YouTube Shopping Ads - Best Practices', url: 'https://support.google.com/google-ads/answer/10026662' }] }
    ];

    const Icons = {
      Clock: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      Check: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
      X: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      ArrowLeft: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
      ArrowRight: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
    };

    const WelcomeSlide = ({ data, onStart, userName, onShowGif, onHideGif }) => {
      const welcomeData = useMemo(() => getTimeBasedWelcome(), []);
      const gifSide = useMemo(() => Math.random() > 0.5 ? 'left' : 'right', []);
      useEffect(() => { onShowGif(welcomeData.gif, '65%', gifSide); return () => onHideGif(); }, [welcomeData.gif, gifSide, onShowGif, onHideGif]);

      return (
        <div className="h-full w-full relative overflow-hidden">
          <div className="h-full flex flex-col items-center justify-center text-center px-6 py-4 relative z-20">
            <motion.h1 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="title-font text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-black mb-2 md:mb-3">{LESSON_CONFIG.title}</motion.h1>
            <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-neutral-600 text-base md:text-lg lg:text-xl mb-2 md:mb-3 max-w-lg leading-relaxed" dangerouslySetInnerHTML={{ __html: formatGreeting(welcomeData.greeting, `<span class="font-bold text-neutral-900">${userName}</span>`) }} />
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="flex items-center justify-center gap-1.5 text-neutral-400 text-[10px] md:text-xs mb-2 md:mb-3"><Icons.Clock /><span>{LESSON_CONFIG.duration}</span></motion.div>
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className="bg-neutral-900 rounded-xl md:rounded-2xl p-3 md:p-5 mb-3 md:mb-4 max-w-sm w-full mx-auto">
              <p className="text-neutral-500 text-[9px] md:text-[11px] uppercase tracking-wider mb-2 md:mb-3">In this lesson</p>
              <ul className="space-y-1.5 md:space-y-2">
                {data.learningGoals.map((goal, i) => (
                  <motion.li key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.25 + i * 0.05 }} className="flex items-start gap-2 text-left">
                    <span className="w-5 h-5 rounded-md flex items-center justify-center text-[9px] font-bold text-white flex-shrink-0 mt-0.5" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>{i + 1}</span>
                    <span className="text-neutral-300 text-[11px] md:text-sm leading-snug">{goal}</span>
                  </motion.li>
                ))}
              </ul>
            </motion.div>
            <motion.button initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.45 }} onClick={onStart} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className="px-6 md:px-7 py-2.5 md:py-3 rounded-xl text-white font-semibold text-sm md:text-base" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>Let's Go</motion.button>
          </div>
        </div>
      );
    };

    const HookSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-8 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-10">
        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="mb-6">
          <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>The Hook</span>
          <h2 className="slide-title text-3xl md:text-4xl lg:text-5xl text-black leading-tight">{data.headline}</h2>
        </motion.div>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="text-lg md:text-xl text-neutral-600 leading-relaxed">{data.subtext}</motion.p>
      </div>
    );

    const ContentSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-8 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-10">
        <motion.h2 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl lg:text-4xl text-black mb-6">{data.title}</motion.h2>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-base md:text-lg text-neutral-600 leading-relaxed whitespace-pre-line">{data.body}</motion.p>
      </div>
    );

    const MockupSlide = ({ data }) => {
      if (data.mockupType === 'diy-problem') {
        return (
          <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto slide-scroll overflow-y-auto py-8">
            <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-4">{data.title}</motion.h2>
            <motion.p initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-sm text-neutral-600 text-center mb-8 max-w-2xl mx-auto">{data.description}</motion.p>
            <div className="relative w-full max-w-3xl mx-auto">
              <svg viewBox="0 0 500 320" className="w-full">
                <text x="250" y="25" fontSize="13" fontWeight="700" textAnchor="middle" fill="#ef4444">DIY Video Production</text>

                {/* Stressed person */}
                <motion.g initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 }}>
                  {/* Head (stressed) */}
                  <circle cx="120" cy="130" r="30" fill="#fca5a5" stroke="#ef4444" strokeWidth="2"/>
                  <text x="120" y="138" fontSize="24" textAnchor="middle">ðŸ˜°</text>

                  {/* Body */}
                  <rect x="95" y="160" width="50" height="60" fill="#fee2e2" stroke="#ef4444" strokeWidth="2" rx="8"/>

                  {/* Arms reaching for equipment */}
                  <line x1="95" y1="175" x2="60" y2="185" stroke="#ef4444" strokeWidth="4"/>
                  <line x1="145" y1="175" x2="180" y2="185" stroke="#ef4444" strokeWidth="4"/>
                </motion.g>

                {/* Complex equipment setup */}
                <motion.g initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }}>
                  {/* Camera */}
                  <rect x="30" y="180" width="40" height="30" fill="#9ca3af" stroke="#6b7280" strokeWidth="2" rx="4"/>
                  <circle cx="50" cy="195" r="8" fill="#4b5563" stroke="#374151" strokeWidth="2"/>
                  <text x="50" y="225" fontSize="8" textAnchor="middle" fill="#6b7280">Camera</text>

                  {/* Lights */}
                  <rect x="170" y="175" width="30" height="8" fill="#fbbf24" stroke="#f59e0b" strokeWidth="2" rx="2"/>
                  <line x1="185" y1="183" x2="185" y2="210" stroke="#9ca3af" strokeWidth="2"/>
                  <text x="185" y="225" fontSize="8" textAnchor="middle" fill="#6b7280">Lights</text>

                  {/* Tripod */}
                  <polygon points="110,250 110,190 115,190 115,250" fill="#6b7280"/>
                  <line x1="95" y1="250" x2="125" y2="250" stroke="#6b7280" strokeWidth="2"/>
                  <text x="110" y="265" fontSize="8" textAnchor="middle" fill="#6b7280">Tripod</text>

                  {/* Microphone */}
                  <rect x="215" y="185" width="15" height="35" fill="#6b7280" stroke="#4b5563" strokeWidth="2" rx="7"/>
                  <line x1="222.5" y1="220" x2="222.5" y2="245" stroke="#6b7280" strokeWidth="2"/>
                  <text x="222.5" y="260" fontSize="8" textAnchor="middle" fill="#6b7280">Mic</text>
                </motion.g>

                {/* Learning curve indicators */}
                <motion.g initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.8 }}>
                  <rect x="40" y="280" width="200" height="25" fill="#fee2e2" stroke="#ef4444" strokeWidth="2" rx="4"/>
                  <text x="140" y="297" fontSize="10" fontWeight="700" textAnchor="middle" fill="#dc2626">Months to learn + $$$$ equipment</text>
                </motion.g>

                {/* Arrow */}
                <motion.path
                  initial={{ pathLength: 0 }}
                  animate={{ pathLength: 1 }}
                  transition={{ delay: 1, duration: 0.5 }}
                  d="M 260 160 L 320 160"
                  stroke="#9ca3af"
                  strokeWidth="3"
                  fill="none"
                  markerEnd="url(#arrowhead)"
                />
                <defs>
                  <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#9ca3af" />
                  </marker>
                </defs>

                {/* Poor quality result */}
                <motion.g initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 1.2 }}>
                  <rect x="330" y="100" width="140" height="100" fill="#d1d5db" stroke="#9ca3af" strokeWidth="2" rx="8"/>
                  <text x="400" y="125" fontSize="11" fontWeight="600" textAnchor="middle" fill="#6b7280">Amateur Video</text>
                  <text x="400" y="145" fontSize="9" textAnchor="middle" fill="#9ca3af">â€¢ Poor lighting</text>
                  <text x="400" y="162" fontSize="9" textAnchor="middle" fill="#9ca3af">â€¢ Bad audio</text>
                  <text x="400" y="179" fontSize="9" textAnchor="middle" fill="#9ca3af">â€¢ Weak hook</text>

                  <rect x="340" y="215" width="120" height="20" fill="#fee2e2" stroke="#ef4444" strokeWidth="1" rx="4"/>
                  <text x="400" y="229" fontSize="9" fontWeight="700" textAnchor="middle" fill="#dc2626">Low ROAS</text>
                </motion.g>
              </svg>
            </div>
          </div>
        );
      }

      if (data.mockupType === 'influencer-solution') {
        return (
          <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto slide-scroll overflow-y-auto py-8">
            <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-4">{data.title}</motion.h2>
            <motion.p initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-sm text-neutral-600 text-center mb-8 max-w-2xl mx-auto">{data.description}</motion.p>
            <div className="relative w-full max-w-3xl mx-auto">
              <svg viewBox="0 0 500 320" className="w-full">
                <defs>
                  <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stopColor="#f97316" stopOpacity="0.9" />
                    <stop offset="100%" stopColor="#ea580c" stopOpacity="0.5" />
                  </linearGradient>
                  <linearGradient id="greenGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stopColor="#22c55e" stopOpacity="1" />
                    <stop offset="100%" stopColor="#16a34a" stopOpacity="0.7" />
                  </linearGradient>
                </defs>

                <text x="250" y="25" fontSize="13" fontWeight="700" textAnchor="middle" fill="#15803d">Influencer Partnership</text>

                {/* Happy person with phone */}
                <motion.g initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 }}>
                  {/* Head (happy) */}
                  <circle cx="120" cy="130" r="30" fill="#86efac" stroke="#22c55e" strokeWidth="2"/>
                  <text x="120" y="138" fontSize="24" textAnchor="middle">ðŸ˜Š</text>

                  {/* Body */}
                  <rect x="95" y="160" width="50" height="60" fill="#dcfce7" stroke="#22c55e" strokeWidth="2" rx="8"/>

                  {/* Arm holding phone */}
                  <line x1="145" y1="175" x2="175" y2="185" stroke="#22c55e" strokeWidth="4"/>

                  {/* Phone */}
                  <rect x="165" y="175" width="30" height="50" fill="#1f2937" stroke="#111827" strokeWidth="2" rx="4"/>
                  <rect x="170" y="180" width="20" height="35" fill="#60a5fa" rx="2"/>
                  <text x="180" y="202" fontSize="16" textAnchor="middle">â–¶</text>
                </motion.g>

                {/* "Send to influencer" indicator */}
                <motion.g initial={{ opacity: 0, scale: 0 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.5 }}>
                  <rect x="85" y="235" width="70" height="18" fill="#fef3c7" stroke="#f59e0b" strokeWidth="1" rx="4"/>
                  <text x="120" y="248" fontSize="8" fontWeight="600" textAnchor="middle" fill="#92400e">Send product</text>
                </motion.g>

                {/* Arrow */}
                <motion.path
                  initial={{ pathLength: 0 }}
                  animate={{ pathLength: 1 }}
                  transition={{ delay: 0.8, duration: 0.5 }}
                  d="M 220 150 L 280 150"
                  stroke="#f97316"
                  strokeWidth="3"
                  fill="none"
                  markerEnd="url(#orangeArrow)"
                />
                <defs>
                  <marker id="orangeArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#f97316" />
                  </marker>
                </defs>

                {/* Professional influencer content */}
                <motion.g initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 1 }}>
                  <rect x="290" y="70" width="180" height="140" fill="url(#orangeGradient)" stroke="#ea580c" strokeWidth="2" rx="8"/>
                  <text x="380" y="95" fontSize="12" fontWeight="700" textAnchor="middle" fill="#7c2d12">Professional Videos</text>

                  {/* Three video thumbnails */}
                  <rect x="305" y="105" width="50" height="35" fill="#fdba74" stroke="#ea580c" strokeWidth="1" rx="3"/>
                  <text x="330" y="126" fontSize="18" textAnchor="middle">ðŸ“¹</text>

                  <rect x="365" y="105" width="50" height="35" fill="#fdba74" stroke="#ea580c" strokeWidth="1" rx="3"/>
                  <text x="390" y="126" fontSize="18" textAnchor="middle">ðŸ“¹</text>

                  <rect x="425" y="105" width="35" height="35" fill="#fdba74" stroke="#ea580c" strokeWidth="1" rx="3"/>
                  <text x="442" y="126" fontSize="14" textAnchor="middle">ðŸ“¹</text>

                  {/* Benefits */}
                  <text x="305" y="160" fontSize="10" fill="#7c2d12">âœ“ Professional quality</text>
                  <text x="305" y="175" fontSize="10" fill="#7c2d12">âœ“ Social proof credibility</text>
                  <text x="305" y="190" fontSize="10" fill="#7c2d12">âœ“ Ready in 1-2 weeks</text>

                  <rect x="300" y="220" width="160" height="22" fill="#dcfce7" stroke="#22c55e" strokeWidth="2" rx="4"/>
                  <text x="380" y="235" fontSize="10" fontWeight="700" textAnchor="middle" fill="#15803d">High ROAS ðŸš€</text>
                </motion.g>

                {/* Cost indicator */}
                <motion.g initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 1.3 }}>
                  <rect x="160" y="280" width="180" height="25" fill="#fef3c7" stroke="#f59e0b" strokeWidth="2" rx="4"/>
                  <text x="250" y="297" fontSize="10" fontWeight="700" textAnchor="middle" fill="#92400e">$200-$1K for 3-5 professional videos</text>
                </motion.g>
              </svg>
            </div>
          </div>
        );
      }
    };

    const QuizSlide = ({ data, onAnswer, onShowGif, onHideGif }) => {
      const [selected, setSelected] = useState(null);
      const [answered, setAnswered] = useState(false);
      const handleSelect = (index) => {
        if (answered) return;
        setSelected(index);
        setAnswered(true);
        const isCorrect = index === data.correctIndex;
        const gif = isCorrect ? getRandomCelebrationGif() : getRandomEmpathyGif();
        onShowGif(gif, '50%', 'center');
        setTimeout(() => onHideGif(), 3000);
        onAnswer(isCorrect);
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto slide-scroll overflow-y-auto py-8">
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>Knowledge Check</span>
            <h2 className="slide-title text-xl md:text-2xl text-black">{data.question}</h2>
          </motion.div>
          <div className="space-y-3 mb-6">
            {data.options.map((option, i) => (
              <motion.button key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.05 }} onClick={() => handleSelect(i)} disabled={answered} className={`w-full text-left p-4 rounded-xl border-2 transition-all ${answered ? (i === data.correctIndex ? 'border-green-500 bg-green-50' : i === selected ? 'border-red-500 bg-red-50' : 'border-neutral-200 bg-neutral-50') : 'border-neutral-200 bg-white hover:border-orange-300 hover:bg-orange-50'}`}>
                <div className="flex items-center gap-3">
                  <div className={`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${answered ? (i === data.correctIndex ? 'bg-green-500' : i === selected ? 'bg-red-500' : 'bg-neutral-300') : 'bg-neutral-200'}`}>
                    {answered && i === data.correctIndex && <Icons.Check className="text-white" />}
                    {answered && i === selected && i !== data.correctIndex && <Icons.X className="text-white" />}
                  </div>
                  <span className="text-sm md:text-base text-neutral-700">{option}</span>
                </div>
              </motion.button>
            ))}
          </div>
          <AnimatePresence>
            {answered && (
              <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} className={`rounded-xl p-4 ${selected === data.correctIndex ? 'bg-green-50 border-2 border-green-200' : 'bg-orange-50 border-2 border-orange-200'}`}>
                <p className="text-sm text-neutral-700 leading-relaxed">{selected === data.correctIndex ? data.feedback.correct : data.feedback.incorrect}</p>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    const CompletionSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center items-center text-center px-6 py-10">
        <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} transition={{ type: 'spring', duration: 0.6 }}>
          <div className="w-20 h-20 rounded-full flex items-center justify-center mb-4 mx-auto" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>
            <Icons.Check className="text-white" />
          </div>
        </motion.div>
        <motion.h2 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className="slide-title text-3xl md:text-4xl text-black mb-3">Lesson Complete!</motion.h2>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }} className="text-neutral-600 text-base md:text-lg mb-6 max-w-md">You now understand how influencer partnerships unlock video scaling with professional content that converts.</motion.p>
        {data.sources && data.sources.length > 0 && (
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }} className="bg-neutral-50 rounded-xl p-4 max-w-md w-full mb-6">
            <p className="text-xs uppercase tracking-wider text-neutral-400 mb-2">Sources</p>
            {data.sources.map((source, i) => (
              <a key={i} href={source.url} target="_blank" rel="noopener noreferrer" className="text-sm hover:underline block mb-1" style={{ color: 'var(--accent)' }}>{source.name}</a>
            ))}
          </motion.div>
        )}
        <motion.button initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }} onClick={() => window.location.href = '/dashboard'} className="px-6 py-3 rounded-xl text-white font-semibold" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>Back to Dashboard</motion.button>
      </div>
    );

    const LessonApp = () => {
      const [currentSlide, setCurrentSlide] = useState(0);
      const [direction, setDirection] = useState(0);
      const [userName] = useState(getUserName());
      const [gif, setGif] = useState({ src: null, opacity: 0, side: 'center' });

      const showGif = useCallback((src, opacity, side) => { setGif({ src, opacity, side }); }, []);
      const hideGif = useCallback(() => { setGif(prev => ({ ...prev, opacity: 0 })); }, []);

      const nextSlide = useCallback(() => {
        if (currentSlide < slides.length - 1) {
          setDirection(1);
          setCurrentSlide(prev => prev + 1);
        }
      }, [currentSlide]);

      const prevSlide = useCallback(() => {
        if (currentSlide > 0) {
          setDirection(-1);
          setCurrentSlide(prev => prev - 1);
        }
      }, [currentSlide]);

      const startLesson = useCallback(() => {
        setDirection(1);
        setCurrentSlide(1);
      }, []);

      const handleAnswer = useCallback((correct) => {
        setTimeout(nextSlide, 3000);
      }, [nextSlide]);

      const renderSlide = (slide) => {
        switch (slide.type) {
          case 'welcome': return <WelcomeSlide data={slide} onStart={startLesson} userName={userName} onShowGif={showGif} onHideGif={hideGif} />;
          case 'hook': return <HookSlide data={slide} />;
          case 'content': return <ContentSlide data={slide} />;
          case 'mockup': return <MockupSlide data={slide} />;
          case 'quiz': return <QuizSlide data={slide} onAnswer={handleAnswer} onShowGif={showGif} onHideGif={hideGif} />;
          case 'completion': return <CompletionSlide data={slide} />;
          default: return <ContentSlide data={slide} />;
        }
      };

      return (
        <div className="fixed inset-0 bg-white overflow-hidden">
          {gif.src && (
            <motion.div animate={{ opacity: gif.opacity }} initial={{ opacity: 0 }} transition={{ duration: 0.3 }} className="fixed inset-0 pointer-events-none z-50 flex items-center justify-center">
              <video src={gif.src} autoPlay loop muted playsInline className="h-2/3 object-contain" style={{ [gif.side]: '10%' }} />
            </motion.div>
          )}
          <AnimatePresence mode="wait" custom={direction}>
            <motion.div key={currentSlide} custom={direction} initial={{ opacity: 0, x: direction > 0 ? 100 : -100 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: direction > 0 ? -100 : 100 }} transition={{ duration: 0.3 }} className="absolute inset-0">
              {renderSlide(slides[currentSlide])}
            </motion.div>
          </AnimatePresence>
          {currentSlide > 0 && currentSlide < slides.length - 1 && (
            <div className="fixed bottom-8 left-1/2 transform -translate-x-1/2 z-30 flex items-center gap-4">
              <button onClick={prevSlide} disabled={currentSlide === 0} className="w-10 h-10 rounded-full bg-white border-2 border-neutral-200 flex items-center justify-center hover:border-orange-300 disabled:opacity-30 disabled:cursor-not-allowed transition-all"><Icons.ArrowLeft /></button>
              <div className="flex gap-1">
                {slides.map((_, i) => (
                  <div key={i} className="w-1.5 h-1.5 rounded-full transition-all" style={{ background: i === currentSlide ? 'var(--accent)' : '#d4d4d8' }} />
                ))}
              </div>
              <button onClick={nextSlide} disabled={currentSlide === slides.length - 1} className="w-10 h-10 rounded-full flex items-center justify-center text-white disabled:opacity-30 disabled:cursor-not-allowed transition-all" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}><Icons.ArrowRight /></button>
            </div>
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<LessonApp />);
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Real Estate: Ad Assets | Quantum Scale</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
  <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js" defer></script>
  <script src="../shared/greetings.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #f97316; --accent-dark: #ea580c; --accent-light: #fdba74; --accent-rgb: 249, 115, 22; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: transparent; -webkit-font-smoothing: antialiased; }
    .title-font { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    h1, h2, h3, .slide-title { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    ::selection { background: var(--accent); color: white; }
    .slide-scroll::-webkit-scrollbar { display: none; }
    .slide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 20px rgba(249, 115, 22, 0.3); } 50% { box-shadow: 0 0 40px rgba(249, 115, 22, 0.6); } }
    @keyframes grow-bar { from { width: 0%; } to { width: 100%; } }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { motion, AnimatePresence } = window.Motion;
    const { useState, useEffect, useCallback, useMemo } = React;

    const getUserName = () => { const params = new URLSearchParams(window.location.search); return params.get('userName') || 'Builder'; };
    const getInitialSlide = () => { const params = new URLSearchParams(window.location.search); const slide = params.get('slide'); return slide ? parseInt(slide, 10) : 0; };

    const LESSON_CONFIG = {
      id: 'google-ad-assets-arsenal',
      title: 'Free Real Estate: Ad Assets',
      description: 'Make your ads bigger, more informative, and more clickable - for free',
      accentColor: '#f97316',
      duration: '6 min',
      nextLesson: { id: 'google-landing-page-bridge', title: 'The Click is Only Half the Battle', teaser: 'Learn what happens AFTER the click and why your landing page determines success.' }
    };

    // ============ ADMIN REPORTER SYSTEM ============
    let __isAdmin = false;
    window.addEventListener('message', function(e) { if (e.data?.type === 'ADMIN_STATUS') { __isAdmin = e.data.isAdmin; } });
    if (window.parent !== window) { window.parent.postMessage({ type: 'CHECK_ADMIN_STATUS' }, '*'); }

    const AdminSlideReportButton = ({ slideIndex, slideType }) => {
      const handleReport = (e) => {
        e.stopPropagation(); e.preventDefault();
        if (window.parent !== window) {
          window.parent.postMessage({ type: 'ADMIN_REPORT_REQUEST', slideIndex, slideType, lessonSlug: LESSON_CONFIG.id, elementId: slideType + '-' + slideIndex }, '*');
        }
      };
      return (
        <button onClick={handleReport} title={`Report issue on Slide ${slideIndex + 1} (${slideType})`}
          style={{ position: 'absolute', top: '12px', right: '12px', width: '32px', height: '32px', borderRadius: '8px', backgroundColor: 'rgba(239, 68, 68, 0.9)', color: 'white', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000, opacity: 0.6, transition: 'opacity 0.2s, transform 0.2s', boxShadow: '0 2px 8px rgba(0,0,0,0.15)' }}
          onMouseEnter={(e) => { e.currentTarget.style.opacity = '1'; e.currentTarget.style.transform = 'scale(1.1)'; }}
          onMouseLeave={(e) => { e.currentTarget.style.opacity = '0.6'; e.currentTarget.style.transform = 'scale(1)'; }}>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="m8 2 1.88 1.88"/><path d="M14.12 3.88 16 2"/><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"/>
            <path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"/><path d="M12 20v-9"/>
          </svg>
        </button>
      );
    };

    const celebrationGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_a_quick_victory_dance_move_high_energy_c_d03b798b-a518-4e6c-bcae-d69b2dd50486_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_jumping_in_the_air_arms_raised_high_YESSS_cele_201477e8-3df4-405a-bc81-81d1747e5c6c_2.mp4'
    ];
    const getRandomCelebrationGif = () => celebrationGifs[Math.floor(Math.random() * celebrationGifs.length)];
    const empathyGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_thumbs_down_with_encouraging_nod_close_keep_go_613e541f-c072-436f-aee7-f99cd6f834fc_2.mp4'
    ];
    const getRandomEmpathyGif = () => empathyGifs[Math.floor(Math.random() * empathyGifs.length)];

    // ============ ELITE SLIDES DATA ============
    const slides = [
      { type: 'welcome', learningGoals: ['What Ad Assets are and why they are completely free to use', 'How assets make your ads bigger and more visible on the page', 'Which assets have the highest impact on click-through rates'] },
      { type: 'hook', headline: 'Most advertisers run tiny 3-line text ads. Meanwhile, their competitors take up half the screen - for the exact same cost per click.', subtext: 'Ad Assets (formerly Extensions) are Google\'s gift to advertisers willing to do the work. They make your ads bigger, more informative, and more clickable - completely free.', brandImage: 'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/Google_2015_logo.svg.png', brandName: 'Google' },
      { type: 'screen-domination', title: 'The Screen Domination Opportunity' },
      { type: 'ad-growth-animation', title: 'Watch Your Ad Grow' },
      { type: 'asset-stack-builder', title: 'Build Your Asset Stack' },
      { type: 'competitor-crush', title: 'Competitor Comparison' },
      { type: 'ctr-roi-calculator', title: 'The ROI of Free' },
      { type: 'asset-priority-matrix', title: 'Asset Priority Matrix' },
      { type: 'implementation-checklist', title: 'Your 15-Minute Setup' },
      { type: 'elite-insight', title: 'The Free Real Estate Secret' },
      { type: 'quiz', question: 'What is the main benefit of using Ad Assets?', options: ['They cost less per click than regular ads', 'They make your ads bigger and more visible for the same CPC', 'They guarantee your ad appears first', 'They automatically improve your Quality Score'], correctIndex: 1, feedback: { correct: 'Exactly right! Ad Assets are free additions that make your ads take up more screen space - all without increasing your cost per click. Free real estate!', incorrect: 'Not quite. The magic of Ad Assets is that they make your ads BIGGER and MORE VISIBLE without increasing your cost per click. Same CPC, more visibility.' }},
      { type: 'completion', sources: [{ name: 'Google Ads Assets Guide', url: 'https://support.google.com/google-ads/answer/2375499' }] }
    ];

    // ============ ICONS ============
    const Icons = {
      Clock: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      Check: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
      X: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      ArrowLeft: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
      ArrowRight: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
      Gift: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 12 20 22 4 22 4 12"/><rect x="2" y="7" width="20" height="5"/><line x1="12" y1="22" x2="12" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></svg>,
      Eye: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
      TrendingUp: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
      Target: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
      Link: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>,
      Tag: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>,
      Image: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
      List: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>,
      Zap: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
      DollarSign: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
      Lightbulb: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>,
      ExternalLink: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
      Monitor: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>,
      Maximize: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>,
      Plus: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
      CheckCircle: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
      AlertTriangle: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
      Trophy: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
      BarChart: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>,
      Layers: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>,
    };

    // ============ ANIMATED COUNTER ============
    const AnimatedCounter = ({ target, duration = 2000, prefix = '', suffix = '', decimals = 0 }) => {
      const [count, setCount] = useState(0);
      useEffect(() => {
        let start = 0;
        const end = parseFloat(target);
        const increment = end / (duration / 16);
        const timer = setInterval(() => {
          start += increment;
          if (start >= end) { setCount(end); clearInterval(timer); }
          else { setCount(start); }
        }, 16);
        return () => clearInterval(timer);
      }, [target, duration]);
      return <span>{prefix}{count.toFixed(decimals)}{suffix}</span>;
    };

    // ============ WELCOME SLIDE ============
    const WelcomeSlide = ({ data, onStart, userName, onShowGif, onHideGif }) => {
      const welcomeData = useMemo(() => getTimeBasedWelcome(), []);
      const gifSide = useMemo(() => Math.random() > 0.5 ? 'left' : 'right', []);
      useEffect(() => { onShowGif(welcomeData.gif, '65%', gifSide); return () => onHideGif(); }, [welcomeData.gif, gifSide, onShowGif, onHideGif]);

      return (
        <div className="h-full w-full relative overflow-hidden">
          <div className="h-full flex flex-col items-center justify-center text-center px-6 py-4 relative z-20">
            <motion.h1 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="title-font text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-black mb-2 md:mb-3">{LESSON_CONFIG.title}</motion.h1>
            <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-neutral-600 text-base md:text-lg lg:text-xl mb-2 md:mb-3 max-w-lg leading-relaxed" dangerouslySetInnerHTML={{ __html: formatGreeting(welcomeData.greeting, `<span class="font-bold text-neutral-900">${userName}</span>`) }} />
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="flex items-center justify-center gap-1.5 text-neutral-400 text-[10px] md:text-xs mb-2 md:mb-3"><Icons.Clock /><span>{LESSON_CONFIG.duration}</span></motion.div>
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className="bg-neutral-900 rounded-xl md:rounded-2xl p-3 md:p-5 mb-3 md:mb-4 max-w-sm w-full mx-auto">
              <p className="text-neutral-500 text-[9px] md:text-[11px] uppercase tracking-wider mb-2 md:mb-3">In this lesson</p>
              <ul className="space-y-1.5 md:space-y-2">
                {data.learningGoals.map((goal, i) => (
                  <motion.li key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.25 + i * 0.05 }} className="flex items-start gap-2 text-left">
                    <span className="w-5 h-5 rounded-md flex items-center justify-center text-[9px] font-bold text-white flex-shrink-0 mt-0.5" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>{i + 1}</span>
                    <span className="text-neutral-300 text-[11px] md:text-sm leading-snug">{goal}</span>
                  </motion.li>
                ))}
              </ul>
            </motion.div>
            <motion.button initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.45 }} onClick={onStart} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className="px-6 md:px-7 py-2.5 md:py-3 rounded-xl text-white font-semibold text-sm md:text-base" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>Let's Go</motion.button>
          </div>
        </div>
      );
    };

    // ============ HOOK SLIDE ============
    const HookSlide = ({ data }) => (
      <div className="h-full relative overflow-hidden">
        {data.brandImage && (
          <motion.div initial={{ opacity: 0, x: 100 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3, duration: 0.8 }}
            style={{ position: 'absolute', bottom: '5%', right: '5%', zIndex: 0, width: '40%', maxWidth: '280px' }}>
            <img src={data.brandImage} alt="" style={{ width: '100%', height: 'auto', objectFit: 'contain', filter: 'drop-shadow(0 20px 40px rgba(0,0,0,0.1))', opacity: 0.15 }} />
          </motion.div>
        )}
        <div className="h-full flex flex-col justify-center px-6 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-8 md:py-10 relative z-10">
          <motion.div initial={{ opacity: 0, y: 40 }} animate={{ opacity: 1, y: 0 }} className="mb-4 md:mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 md:mb-4" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>The Hook</span>
            <h2 className="slide-title text-2xl md:text-4xl lg:text-5xl text-black leading-tight">{data.headline}</h2>
          </motion.div>
          <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="text-base md:text-xl text-neutral-600 leading-relaxed">{data.subtext}</motion.p>
        </div>
      </div>
    );

    // ============ SCREEN DOMINATION SLIDE ============
    const ScreenDominationSlide = ({ data }) => {
      const [showFull, setShowFull] = useState(false);

      useEffect(() => {
        const timer = setTimeout(() => setShowFull(true), 1200);
        return () => clearTimeout(timer);
      }, []);

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

          <div className="grid md:grid-cols-2 gap-6 mb-6">
            {/* Mobile Phone - No Assets */}
            <motion.div initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }}
              className="relative rounded-3xl p-3 mx-auto" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', width: '220px' }}>
              <div className="absolute top-0 left-0 right-0 h-1 rounded-t-3xl" style={{ background: 'linear-gradient(90deg, transparent, #ef4444, transparent)' }} />

              <div className="text-center text-xs text-red-400 font-semibold mb-2 uppercase tracking-wider">No Assets</div>

              {/* Phone Screen */}
              <div className="bg-white rounded-2xl p-3 relative" style={{ minHeight: '280px' }}>
                {/* Search Bar */}
                <div className="bg-neutral-100 rounded-full px-3 py-2 mb-3 flex items-center gap-2">
                  <div className="w-4 h-4 rounded-full bg-gradient-to-r from-blue-500 via-red-500 to-yellow-500"></div>
                  <span className="text-xs text-neutral-500">running shoes</span>
                </div>

                {/* Tiny Ad */}
                <div className="border border-neutral-200 rounded-lg p-2 mb-2">
                  <div className="flex items-center gap-1 mb-1">
                    <span className="px-1 py-0.5 bg-amber-100 text-amber-700 text-[8px] font-bold rounded">Ad</span>
                  </div>
                  <p className="text-[10px] text-blue-600 font-semibold">Best Running Shoes</p>
                  <p className="text-[8px] text-green-600">www.example.com</p>
                  <p className="text-[8px] text-neutral-500">Shop running shoes. Top brands.</p>
                </div>

                {/* Screen Space Indicator */}
                <div className="absolute bottom-3 left-3 right-3">
                  <div className="h-2 bg-neutral-200 rounded-full overflow-hidden">
                    <motion.div initial={{ width: 0 }} animate={{ width: '15%' }} transition={{ delay: 0.5, duration: 0.8 }}
                      className="h-full rounded-full" style={{ background: 'linear-gradient(90deg, #ef4444, #f87171)' }} />
                  </div>
                  <p className="text-[9px] text-neutral-400 mt-1 text-center">15% of screen</p>
                </div>
              </div>
            </motion.div>

            {/* Mobile Phone - With Assets */}
            <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: showFull ? 1 : 0.3, x: 0 }} transition={{ delay: 0.4 }}
              className="relative rounded-3xl p-3 mx-auto" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', width: '220px', boxShadow: showFull ? '0 0 40px rgba(249, 115, 22, 0.3)' : 'none' }}>
              <div className="absolute top-0 left-0 right-0 h-1 rounded-t-3xl" style={{ background: 'linear-gradient(90deg, transparent, #22c55e, transparent)' }} />

              <div className="text-center text-xs text-green-400 font-semibold mb-2 uppercase tracking-wider">With Assets</div>

              {/* Phone Screen */}
              <div className="bg-white rounded-2xl p-3 relative" style={{ minHeight: '280px' }}>
                {/* Search Bar */}
                <div className="bg-neutral-100 rounded-full px-3 py-2 mb-3 flex items-center gap-2">
                  <div className="w-4 h-4 rounded-full bg-gradient-to-r from-blue-500 via-red-500 to-yellow-500"></div>
                  <span className="text-xs text-neutral-500">running shoes</span>
                </div>

                {/* Big Ad with Assets */}
                <div className="border-2 border-green-400 rounded-lg p-2 mb-2" style={{ background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(34, 197, 94, 0.1))' }}>
                  <div className="flex items-center gap-1 mb-1">
                    <span className="px-1 py-0.5 bg-amber-100 text-amber-700 text-[8px] font-bold rounded">Ad</span>
                  </div>
                  <p className="text-[10px] text-blue-600 font-semibold">Best Running Shoes | Free Shipping</p>
                  <p className="text-[8px] text-green-600">www.example.com</p>
                  <p className="text-[8px] text-neutral-500 mb-1">Shop running shoes. Top brands, great prices.</p>

                  <div className="bg-amber-50 rounded px-1.5 py-1 mb-1.5">
                    <p className="text-[8px] font-semibold text-amber-700">20% Off - Limited Time</p>
                  </div>

                  <div className="grid grid-cols-2 gap-1 mb-1.5">
                    <span className="text-[8px] text-orange-500">Shop Now</span>
                    <span className="text-[8px] text-orange-500">About Us</span>
                    <span className="text-[8px] text-orange-500">Reviews</span>
                    <span className="text-[8px] text-orange-500">Contact</span>
                  </div>

                  <p className="text-[8px] text-neutral-400">Nike, Adidas, New Balance</p>
                </div>

                {/* Screen Space Indicator */}
                <div className="absolute bottom-3 left-3 right-3">
                  <div className="h-2 bg-neutral-200 rounded-full overflow-hidden">
                    <motion.div initial={{ width: 0 }} animate={{ width: showFull ? '65%' : '0%' }} transition={{ delay: 1, duration: 1 }}
                      className="h-full rounded-full" style={{ background: 'linear-gradient(90deg, #22c55e, #4ade80)' }} />
                  </div>
                  <p className="text-[9px] text-neutral-400 mt-1 text-center">65% of screen</p>
                </div>
              </div>
            </motion.div>
          </div>

          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.8 }}
            className="relative rounded-xl p-5 text-center" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: '0 0 30px rgba(249, 115, 22, 0.15)' }}>
            <div className="absolute top-0 left-0 right-0 h-1 rounded-t-xl" style={{ background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />
            <p className="text-4xl font-bold mb-2" style={{ color: 'var(--accent)' }}>
              <AnimatedCounter target={4.3} duration={1500} suffix="x" decimals={1} />
            </p>
            <p className="text-white font-semibold">More Screen Real Estate</p>
            <p className="text-neutral-400 text-sm">Same cost per click. Completely free.</p>
          </motion.div>
        </div>
      );
    };

    // ============ AD GROWTH ANIMATION SLIDE ============
    const AdGrowthAnimationSlide = ({ data }) => {
      const [step, setStep] = useState(0);
      const assets = [
        { name: 'Sitelinks', addedLines: '+4 links', color: '#3b82f6' },
        { name: 'Callouts', addedLines: '+3 benefits', color: '#22c55e' },
        { name: 'Promotion', addedLines: '+1 offer', color: '#f97316' },
        { name: 'Snippets', addedLines: '+1 row', color: '#8b5cf6' },
      ];

      useEffect(() => {
        const interval = setInterval(() => {
          setStep(prev => prev < 4 ? prev + 1 : prev);
        }, 1200);
        return () => clearInterval(interval);
      }, []);

      const getAdHeight = () => {
        const heights = [80, 110, 135, 160, 190];
        return heights[step];
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

          <div className="grid md:grid-cols-2 gap-8">
            {/* Ad Preview */}
            <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}
              className="relative rounded-2xl p-6" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: '0 0 40px rgba(249, 115, 22, 0.15)' }}>
              <div className="absolute top-0 left-0 right-0 h-1 rounded-t-2xl" style={{ background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />

              <div className="text-xs text-neutral-400 uppercase tracking-wider mb-4 text-center">Live Preview</div>

              <motion.div animate={{ height: getAdHeight() }} transition={{ duration: 0.5, ease: 'easeOut' }}
                className="bg-white rounded-xl p-4 overflow-hidden">
                <div className="flex items-center gap-1 mb-2">
                  <span className="px-1.5 py-0.5 bg-amber-100 text-amber-700 text-[9px] font-bold rounded">Ad</span>
                </div>
                <p className="text-sm text-blue-600 font-semibold mb-1">Best Running Shoes | Free Shipping</p>
                <p className="text-xs text-green-600 mb-1">www.example.com</p>
                <p className="text-xs text-neutral-600 mb-2">Shop the latest running shoes. Top brands, great prices.</p>

                {step >= 1 && (
                  <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: 'auto' }} className="grid grid-cols-2 gap-x-4 gap-y-1 mb-2">
                    <span className="text-xs text-blue-500">Shop Now</span>
                    <span className="text-xs text-blue-500">Men's Shoes</span>
                    <span className="text-xs text-blue-500">Women's Shoes</span>
                    <span className="text-xs text-blue-500">Reviews</span>
                  </motion.div>
                )}

                {step >= 2 && (
                  <motion.p initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="text-xs text-neutral-500 mb-2">
                    Free Returns. Price Match Guarantee. Expert Support.
                  </motion.p>
                )}

                {step >= 3 && (
                  <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="bg-amber-50 rounded px-2 py-1 mb-2">
                    <p className="text-xs font-semibold text-amber-700">20% Off - Limited Time</p>
                  </motion.div>
                )}

                {step >= 4 && (
                  <motion.p initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="text-xs text-neutral-400">
                    Brands: Nike, Adidas, New Balance, ASICS
                  </motion.p>
                )}
              </motion.div>
            </motion.div>

            {/* Asset List */}
            <div className="space-y-3">
              {assets.map((asset, i) => (
                <motion.div key={i} initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.1 }}
                  className="rounded-xl p-4 transition-all duration-300"
                  style={{
                    background: step > i ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : 'white',
                    border: step > i ? `1px solid ${asset.color}40` : '2px solid #e5e5e5',
                    boxShadow: step > i ? `0 0 20px ${asset.color}20` : 'none'
                  }}>
                  <div className="flex items-center justify-between">
                    <div className="flex items-center gap-3">
                      <div className="w-8 h-8 rounded-lg flex items-center justify-center"
                        style={{ background: step > i ? `linear-gradient(135deg, ${asset.color}, ${asset.color}80)` : '#f5f5f5' }}>
                        {step > i ? <Icons.Check className="text-white" /> : <Icons.Plus className={step === i ? 'text-neutral-400' : 'text-neutral-300'} />}
                      </div>
                      <span className={`font-semibold ${step > i ? 'text-white' : 'text-neutral-700'}`}>{asset.name}</span>
                    </div>
                    <span className="px-2 py-1 rounded text-xs font-semibold"
                      style={{ background: `${asset.color}20`, color: asset.color }}>{asset.addedLines}</span>
                  </div>
                </motion.div>
              ))}

              <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}
                className="rounded-xl p-4 text-center" style={{ background: 'linear-gradient(135deg, var(--accent), var(--accent-dark))' }}>
                <p className="text-white font-bold">Total Cost: $0</p>
                <p className="text-white/80 text-sm">All assets are completely free</p>
              </motion.div>
            </div>
          </div>
        </div>
      );
    };

    // ============ ASSET STACK BUILDER SLIDE ============
    const AssetStackBuilderSlide = ({ data }) => {
      const [activeAsset, setActiveAsset] = useState(0);
      const assets = [
        { icon: Icons.Link, name: 'Sitelinks', impact: '+20%', desc: 'Direct links to key pages', color: '#3b82f6', priority: 'CRITICAL' },
        { icon: Icons.Zap, name: 'Callouts', impact: '+15%', desc: 'Highlight key benefits', color: '#22c55e', priority: 'HIGH' },
        { icon: Icons.Tag, name: 'Promotions', impact: '+18%', desc: 'Sales and discounts', color: '#f97316', priority: 'HIGH' },
        { icon: Icons.List, name: 'Snippets', impact: '+10%', desc: 'Categories and features', color: '#8b5cf6', priority: 'MEDIUM' },
        { icon: Icons.Image, name: 'Images', impact: '+12%', desc: 'Visual product appeal', color: '#ec4899', priority: 'MEDIUM' },
      ];

      useEffect(() => {
        const interval = setInterval(() => {
          setActiveAsset(prev => (prev + 1) % assets.length);
        }, 2500);
        return () => clearInterval(interval);
      }, []);

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

          <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-6">
            {assets.map((asset, i) => (
              <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 + i * 0.08 }}
                onClick={() => setActiveAsset(i)}
                className="relative rounded-xl p-4 cursor-pointer transition-all duration-300"
                style={{
                  background: activeAsset === i ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : 'white',
                  border: activeAsset === i ? `1px solid ${asset.color}40` : '2px solid #e5e5e5',
                  boxShadow: activeAsset === i ? `0 0 25px ${asset.color}30` : 'none',
                  transform: activeAsset === i ? 'scale(1.02)' : 'scale(1)'
                }}>
                {activeAsset === i && (
                  <div className="absolute top-0 left-0 right-0 h-1 rounded-t-xl" style={{ background: `linear-gradient(90deg, transparent, ${asset.color}, transparent)` }} />
                )}
                <div className="w-10 h-10 rounded-lg flex items-center justify-center mx-auto mb-2"
                  style={{ background: `linear-gradient(135deg, ${asset.color}, ${asset.color}80)` }}>
                  <asset.icon className="text-white" />
                </div>
                <h3 className={`font-bold text-center text-sm mb-1 ${activeAsset === i ? 'text-white' : 'text-neutral-800'}`}>{asset.name}</h3>
                <div className="text-center">
                  <span className="px-2 py-0.5 rounded text-[10px] font-bold"
                    style={{ background: `${asset.color}20`, color: asset.color }}>{asset.priority}</span>
                </div>
              </motion.div>
            ))}
          </div>

          {/* Detail Card */}
          <motion.div key={activeAsset} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}
            className="relative rounded-2xl p-6" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: `0 0 40px ${assets[activeAsset].color}20` }}>
            <div className="absolute top-0 left-0 right-0 h-1 rounded-t-2xl" style={{ background: `linear-gradient(90deg, transparent, ${assets[activeAsset].color}, transparent)` }} />

            <div className="flex items-center justify-between">
              <div className="flex items-center gap-4">
                <div className="w-14 h-14 rounded-xl flex items-center justify-center"
                  style={{ background: `linear-gradient(135deg, ${assets[activeAsset].color}, ${assets[activeAsset].color}80)` }}>
                  {React.createElement(assets[activeAsset].icon, { className: 'text-white w-6 h-6' })}
                </div>
                <div>
                  <h3 className="text-white text-xl font-bold">{assets[activeAsset].name}</h3>
                  <p className="text-neutral-400">{assets[activeAsset].desc}</p>
                </div>
              </div>
              <div className="text-right">
                <p className="text-3xl font-bold" style={{ color: assets[activeAsset].color }}>{assets[activeAsset].impact}</p>
                <p className="text-neutral-400 text-sm">CTR Boost</p>
              </div>
            </div>
          </motion.div>
        </div>
      );
    };

    // ============ COMPETITOR CRUSH SLIDE ============
    const CompetitorCrushSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
        <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

        <div className="grid md:grid-cols-2 gap-6 mb-6">
          {/* Competitor */}
          <motion.div initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }}
            className="rounded-xl p-5 bg-neutral-100 border-2 border-neutral-300">
            <div className="flex items-center gap-2 mb-4">
              <Icons.AlertTriangle className="text-red-500" />
              <span className="font-semibold text-red-700">Your Competitor</span>
            </div>

            <div className="space-y-3">
              <div className="flex items-center justify-between">
                <span className="text-neutral-600">Ad Size</span>
                <div className="flex items-center gap-2">
                  <div className="w-20 h-2 bg-neutral-300 rounded-full overflow-hidden">
                    <div className="w-1/4 h-full bg-red-400 rounded-full"></div>
                  </div>
                  <span className="text-sm font-semibold text-red-500">Small</span>
                </div>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-600">Assets Used</span>
                <span className="text-sm font-semibold text-red-500">0-2</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-600">CTR</span>
                <span className="text-sm font-semibold text-red-500">1.8%</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-600">Visibility</span>
                <span className="text-sm font-semibold text-red-500">Low</span>
              </div>
            </div>
          </motion.div>

          {/* You */}
          <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 }}
            className="relative rounded-xl p-5" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: '0 0 40px rgba(34, 197, 94, 0.2)' }}>
            <div className="absolute top-0 left-0 right-0 h-1 rounded-t-xl" style={{ background: 'linear-gradient(90deg, transparent, #22c55e, transparent)' }} />

            <div className="flex items-center gap-2 mb-4">
              <Icons.Trophy className="text-green-400" />
              <span className="font-semibold text-green-400">You (With Assets)</span>
            </div>

            <div className="space-y-3">
              <div className="flex items-center justify-between">
                <span className="text-neutral-400">Ad Size</span>
                <div className="flex items-center gap-2">
                  <div className="w-20 h-2 bg-neutral-700 rounded-full overflow-hidden">
                    <motion.div initial={{ width: 0 }} animate={{ width: '100%' }} transition={{ delay: 0.6, duration: 1 }}
                      className="h-full bg-green-400 rounded-full" />
                  </div>
                  <span className="text-sm font-semibold text-green-400">Massive</span>
                </div>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-400">Assets Used</span>
                <span className="text-sm font-semibold text-green-400">8-10</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-400">CTR</span>
                <span className="text-sm font-semibold text-green-400">2.7%</span>
              </div>
              <div className="flex items-center justify-between">
                <span className="text-neutral-400">Visibility</span>
                <span className="text-sm font-semibold text-green-400">Dominant</span>
              </div>
            </div>
          </motion.div>
        </div>

        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.8 }}
          className="relative rounded-xl p-5 text-center" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' }}>
          <div className="absolute top-0 left-0 right-0 h-1 rounded-t-xl" style={{ background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />
          <p className="text-5xl font-bold mb-2" style={{ color: 'var(--accent)' }}>
            <AnimatedCounter target={50} duration={1500} suffix="%" />
          </p>
          <p className="text-white font-semibold">Higher CTR Than Non-Asset Ads</p>
          <p className="text-neutral-400 text-sm">Same CPC. Dramatically better results.</p>
        </motion.div>
      </div>
    );

    // ============ CTR ROI CALCULATOR SLIDE ============
    const CTRROICalculatorSlide = ({ data }) => {
      const stats = [
        { label: 'Current CTR', before: '2.0%', after: '2.7%', improvement: '+35%' },
        { label: 'Monthly Clicks', before: '1,000', after: '1,350', improvement: '+350' },
        { label: 'Extra Conversions', before: '-', after: '+35', improvement: 'FREE' },
        { label: 'Extra Revenue', before: '-', after: '+$3,500', improvement: '$0 Cost' },
      ];

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }}
            className="relative rounded-2xl p-6 mb-6" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: '0 0 40px rgba(249, 115, 22, 0.15)' }}>
            <div className="absolute top-0 left-0 right-0 h-1 rounded-t-2xl" style={{ background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />

            <div className="grid grid-cols-4 gap-4 text-center mb-4">
              <div className="text-neutral-400 text-sm font-semibold">Metric</div>
              <div className="text-red-400 text-sm font-semibold">Before</div>
              <div className="text-green-400 text-sm font-semibold">After</div>
              <div className="text-sm font-semibold" style={{ color: 'var(--accent)' }}>Impact</div>
            </div>

            {stats.map((stat, i) => (
              <motion.div key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 + i * 0.1 }}
                className="grid grid-cols-4 gap-4 text-center py-3 border-t border-neutral-700">
                <div className="text-white font-medium text-sm">{stat.label}</div>
                <div className="text-red-400/80 text-sm">{stat.before}</div>
                <div className="text-green-400 font-semibold text-sm">{stat.after}</div>
                <div className="font-bold text-sm" style={{ color: 'var(--accent)' }}>{stat.improvement}</div>
              </motion.div>
            ))}
          </motion.div>

          <div className="grid md:grid-cols-3 gap-4">
            {[
              { icon: Icons.Gift, label: 'Setup Cost', value: '$0', color: '#22c55e' },
              { icon: Icons.TrendingUp, label: 'Monthly Gain', value: '+$3,500', color: 'var(--accent)' },
              { icon: Icons.BarChart, label: 'Annual Impact', value: '+$42,000', color: '#8b5cf6' }
            ].map((item, i) => (
              <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 + i * 0.1 }}
                className="relative rounded-xl p-4 text-center" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' }}>
                <div className="absolute top-0 left-0 right-0 h-0.5 rounded-t-xl" style={{ background: `linear-gradient(90deg, transparent, ${item.color}, transparent)` }} />
                <item.icon className="mx-auto mb-2" style={{ color: item.color }} />
                <p className="text-2xl font-bold mb-1" style={{ color: item.color }}>{item.value}</p>
                <p className="text-neutral-400 text-sm">{item.label}</p>
              </motion.div>
            ))}
          </div>
        </div>
      );
    };

    // ============ ASSET PRIORITY MATRIX SLIDE ============
    const AssetPriorityMatrixSlide = ({ data }) => {
      const priorities = [
        { name: 'Sitelinks', effort: 'LOW', impact: 'HIGH', priority: 1, color: '#22c55e' },
        { name: 'Callouts', effort: 'LOW', impact: 'HIGH', priority: 2, color: '#22c55e' },
        { name: 'Promotions', effort: 'LOW', impact: 'HIGH', priority: 3, color: '#f97316' },
        { name: 'Structured Snippets', effort: 'MEDIUM', impact: 'MEDIUM', priority: 4, color: '#3b82f6' },
        { name: 'Images', effort: 'MEDIUM', impact: 'MEDIUM', priority: 5, color: '#8b5cf6' },
      ];

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-6">{data.title}</motion.h2>

          <div className="space-y-3 mb-6">
            {priorities.map((item, i) => (
              <motion.div key={i} initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.1 }}
                className="relative rounded-xl p-4 flex items-center justify-between" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' }}>
                <div className="absolute top-0 left-0 right-0 h-0.5 rounded-t-xl" style={{ background: `linear-gradient(90deg, transparent, ${item.color}, transparent)` }} />

                <div className="flex items-center gap-4">
                  <div className="w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold"
                    style={{ background: `linear-gradient(135deg, ${item.color}, ${item.color}80)` }}>
                    {item.priority}
                  </div>
                  <span className="text-white font-semibold">{item.name}</span>
                </div>

                <div className="flex items-center gap-3">
                  <div className="text-center">
                    <p className="text-[10px] text-neutral-500 uppercase">Effort</p>
                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${item.effort === 'LOW' ? 'bg-green-500/20 text-green-400' : 'bg-amber-500/20 text-amber-400'}`}>{item.effort}</span>
                  </div>
                  <div className="text-center">
                    <p className="text-[10px] text-neutral-500 uppercase">Impact</p>
                    <span className={`px-2 py-0.5 rounded text-xs font-bold ${item.impact === 'HIGH' ? 'bg-green-500/20 text-green-400' : 'bg-blue-500/20 text-blue-400'}`}>{item.impact}</span>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>

          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.7 }}
            className="rounded-xl p-4 text-center bg-amber-50 border border-amber-200">
            <div className="flex items-center justify-center gap-2 mb-2">
              <Icons.Lightbulb className="text-amber-600" />
              <span className="font-semibold text-amber-800">Pro Tip</span>
            </div>
            <p className="text-amber-700 text-sm">Start with #1-3. They take 15 minutes and deliver 80% of the impact.</p>
          </motion.div>
        </div>
      );
    };

    // ============ IMPLEMENTATION CHECKLIST SLIDE ============
    const ImplementationChecklistSlide = ({ data }) => {
      const [checkedItems, setCheckedItems] = useState([]);
      const steps = [
        { step: '1', task: 'Add 4-6 Sitelinks', time: '5 min', tip: 'Link to top-performing pages' },
        { step: '2', task: 'Write 8-10 Callouts', time: '3 min', tip: 'Short benefit phrases' },
        { step: '3', task: 'Set up Promotion Extension', time: '2 min', tip: 'Add current offers' },
        { step: '4', task: 'Add Structured Snippets', time: '3 min', tip: 'Show brands/categories' },
        { step: '5', task: 'Upload 3+ Images', time: '2 min', tip: 'Product or lifestyle shots' },
      ];

      const toggleCheck = (i) => {
        setCheckedItems(prev => prev.includes(i) ? prev.filter(x => x !== i) : [...prev, i]);
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto">
          <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl text-black text-center mb-2">{data.title}</motion.h2>
          <motion.p initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="text-neutral-500 text-center mb-6">Click to check off as you complete</motion.p>

          <div className="space-y-3 mb-6">
            {steps.map((item, i) => (
              <motion.div key={i} initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.08 }}
                onClick={() => toggleCheck(i)}
                className="relative rounded-xl p-4 cursor-pointer transition-all duration-300"
                style={{
                  background: checkedItems.includes(i) ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : 'white',
                  border: checkedItems.includes(i) ? '1px solid rgba(34, 197, 94, 0.3)' : '2px solid #e5e5e5',
                  opacity: checkedItems.includes(i) ? 0.7 : 1
                }}>
                {checkedItems.includes(i) && (
                  <div className="absolute top-0 left-0 right-0 h-0.5 rounded-t-xl" style={{ background: 'linear-gradient(90deg, transparent, #22c55e, transparent)' }} />
                )}

                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-4">
                    <div className="w-10 h-10 rounded-lg flex items-center justify-center transition-all"
                      style={{ background: checkedItems.includes(i) ? 'linear-gradient(135deg, #22c55e, #16a34a)' : 'linear-gradient(135deg, var(--accent), var(--accent-dark))' }}>
                      {checkedItems.includes(i) ? <Icons.Check className="text-white" /> : <span className="text-white font-bold">{item.step}</span>}
                    </div>
                    <div>
                      <p className={`font-semibold ${checkedItems.includes(i) ? 'text-white line-through' : 'text-neutral-800'}`}>{item.task}</p>
                      <p className={`text-sm ${checkedItems.includes(i) ? 'text-neutral-500' : 'text-neutral-500'}`}>{item.tip}</p>
                    </div>
                  </div>
                  <span className={`px-3 py-1 rounded-full text-sm font-semibold ${checkedItems.includes(i) ? 'bg-green-500/20 text-green-400' : 'bg-neutral-100 text-neutral-600'}`}>{item.time}</span>
                </div>
              </motion.div>
            ))}
          </div>

          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.6 }}
            className="text-center">
            <p className="text-neutral-500">Total Setup Time:</p>
            <p className="text-3xl font-bold" style={{ color: 'var(--accent)' }}>~15 minutes</p>
          </motion.div>
        </div>
      );
    };

    // ============ ELITE INSIGHT SLIDE ============
    const EliteInsightSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center items-center px-6 md:px-12 max-w-2xl mx-auto">
        <motion.div initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }}
          className="relative rounded-2xl p-8 text-center" style={{ background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)', boxShadow: '0 0 60px rgba(249, 115, 22, 0.2)', border: '1px solid rgba(249, 115, 22, 0.3)' }}>
          <div className="absolute top-0 left-0 right-0 h-1 rounded-t-2xl" style={{ background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />

          <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} transition={{ delay: 0.2, type: 'spring' }}
            className="w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-6" style={{ background: 'linear-gradient(135deg, var(--accent), var(--accent-dark))' }}>
            <Icons.Gift className="text-white w-8 h-8" />
          </motion.div>

          <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}
            className="text-xs uppercase tracking-wider mb-4" style={{ color: 'var(--accent)' }}>The Free Real Estate Secret</motion.p>

          <motion.h3 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }}
            className="text-white text-2xl md:text-3xl font-bold leading-tight mb-4">
            "You pay the same cost per click whether your ad has zero assets or ten assets."
          </motion.h3>

          <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }}
            className="text-neutral-400 leading-relaxed mb-6">
            Most advertisers leave this money on the table. Set up ALL your Ad Assets today and watch your CTR climb without spending a penny more.
          </motion.p>

          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}
            className="grid grid-cols-3 gap-4 pt-6 border-t border-neutral-700">
            {[
              { value: '4x', label: 'More Visibility' },
              { value: '+35%', label: 'CTR Increase' },
              { value: '$0', label: 'Extra Cost' }
            ].map((stat, i) => (
              <div key={i} className="text-center">
                <p className="text-2xl font-bold" style={{ color: 'var(--accent)' }}>{stat.value}</p>
                <p className="text-neutral-400 text-xs">{stat.label}</p>
              </div>
            ))}
          </motion.div>
        </motion.div>
      </div>
    );

    // ============ QUIZ SLIDE ============
    const QuizSlide = ({ data, onShowGif, onHideGif }) => {
      const [selected, setSelected] = useState(null);
      const [showFeedback, setShowFeedback] = useState(false);
      const celebrationGif = useMemo(() => getRandomCelebrationGif(), []);
      const empathyGif = useMemo(() => getRandomEmpathyGif(), []);
      const gifSide = useMemo(() => Math.random() > 0.5 ? 'left' : 'right', []);
      const handleSelect = (index) => { if (showFeedback) return; setSelected(index); setShowFeedback(true); };
      const isCorrect = selected === data.correctIndex;

      useEffect(() => {
        if (showFeedback) {
          if (isCorrect) { onShowGif(celebrationGif, '60%', gifSide); } else { onShowGif(empathyGif, '60%', gifSide); }
        }
      }, [showFeedback, isCorrect, celebrationGif, empathyGif, gifSide, onShowGif]);

      useEffect(() => { return () => onHideGif(); }, [onHideGif]);

      return (
        <div className="h-full w-full relative overflow-hidden">
          <div className="h-full flex flex-col justify-center px-8 md:px-12 max-w-2xl mx-auto slide-scroll overflow-y-auto py-10 relative z-30">
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
              <p className="text-xs uppercase tracking-wider text-neutral-400 mb-3">Quick Check</p>
              <h2 className="slide-title text-xl md:text-2xl text-black leading-tight">{data.question}</h2>
            </motion.div>
            <div className="space-y-3 mb-6">
              {data.options.map((option, i) => (
                <motion.button key={i} initial={{ opacity: 0, x: -15 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.08 + i * 0.06 }} onClick={() => handleSelect(i)} disabled={showFeedback} className={`w-full p-4 rounded-xl text-left transition-all border-2 ${showFeedback ? i === data.correctIndex ? 'border-green-500 bg-green-50' : i === selected ? 'border-red-400 bg-red-50' : 'border-neutral-200 bg-white opacity-40' : 'border-neutral-200 bg-white hover:border-neutral-300'}`}>
                  <div className="flex items-center gap-3">
                    <span className={`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold transition-all ${showFeedback && i === data.correctIndex ? 'bg-green-500 text-white' : showFeedback && i === selected && !isCorrect ? 'bg-red-400 text-white' : 'bg-neutral-100 text-neutral-500'}`}>
                      {showFeedback && i === data.correctIndex ? <Icons.Check /> : showFeedback && i === selected && !isCorrect ? <Icons.X /> : String.fromCharCode(65 + i)}
                    </span>
                    <span className="text-neutral-700 text-sm md:text-base">{option}</span>
                  </div>
                </motion.button>
              ))}
            </div>
            <AnimatePresence>
              {showFeedback && (
                <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className={`p-5 rounded-xl ${isCorrect ? 'bg-green-50 border border-green-200' : 'bg-amber-50 border border-amber-200'}`}>
                  <p className={`text-sm leading-relaxed ${isCorrect ? 'text-green-800' : 'text-amber-800'}`}>{isCorrect ? data.feedback.correct : data.feedback.incorrect}</p>
                </motion.div>
              )}
            </AnimatePresence>
          </div>
        </div>
      );
    };

    // ============ COMPLETION SLIDE ============
    const CompletionSlide = ({ data }) => (
      <div className="h-full flex flex-col items-center justify-center text-center px-8 slide-scroll overflow-y-auto py-8">
        <motion.div initial={{ opacity: 0, scale: 0 }} animate={{ opacity: 1, scale: 1 }} transition={{ type: 'spring', duration: 0.5 }} className="w-16 h-16 rounded-xl flex items-center justify-center mb-4 text-white" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))`, boxShadow: `0 6px 24px rgba(var(--accent-rgb), 0.35)` }}><Icons.Check /></motion.div>
        <motion.h2 initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="slide-title text-2xl md:text-3xl text-black mb-3">Lesson Complete</motion.h2>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.25 }} className="text-neutral-500 text-sm mb-5 max-w-md leading-relaxed">You now know how to use Ad Assets to make your Google Ads bigger and more clickable - for free!</motion.p>
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.35 }} className="bg-neutral-900 rounded-xl p-5 max-w-md w-full mb-4">
          <p className="text-neutral-500 text-xs uppercase tracking-wider mb-2">Up Next</p>
          <h3 className="text-white font-bold text-lg mb-1">{LESSON_CONFIG.nextLesson.title}</h3>
          <p className="text-neutral-400 text-xs">{LESSON_CONFIG.nextLesson.teaser}</p>
        </motion.div>
        {data?.sources && data.sources.length > 0 && (
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.45 }} className="bg-neutral-50 border border-neutral-200 rounded-xl p-4 max-w-md w-full">
            <p className="text-neutral-400 text-xs uppercase tracking-wider mb-2 flex items-center justify-center gap-1"><Icons.ExternalLink /> Resources</p>
            <div className="space-y-1.5">
              {data.sources.map((source, i) => (
                <a key={i} href={source.url} target="_blank" rel="noopener noreferrer" className="flex items-center justify-center gap-2 text-sm font-medium transition-colors hover:underline" style={{ color: 'var(--accent)' }}>
                  {source.name}
                  <Icons.ExternalLink />
                </a>
              ))}
            </div>
          </motion.div>
        )}
      </div>
    );

    // ============ LESSON APP ============
    const LessonApp = () => {
      const [currentSlide, setCurrentSlide] = useState(getInitialSlide());
      const [direction, setDirection] = useState(1);
      const userName = useMemo(() => getUserName(), []);
      const currentSlideRef = React.useRef(currentSlide);
      const [gifConfig, setGifConfig] = useState(null);
      const [isAnimating, setIsAnimating] = useState(false);

      const showGif = useCallback((url, height, side) => setGifConfig({ url, height, side }), []);
      const hideGif = useCallback(() => setGifConfig(null), []);

      React.useEffect(() => { currentSlideRef.current = currentSlide; }, [currentSlide]);

      useEffect(() => {
        window.parent.postMessage({ type: 'LESSON_SLIDE_UPDATE', slideIndex: currentSlide, slideType: slides[currentSlide]?.type, lessonSlug: LESSON_CONFIG.id }, '*');
      }, [currentSlide]);

      const goToSlide = useCallback((newSlide) => {
        if (isAnimating || newSlide < 0 || newSlide >= slides.length) return;
        setIsAnimating(true);
        setDirection(newSlide > currentSlideRef.current ? 1 : -1);
        setCurrentSlide(newSlide);
      }, [isAnimating]);

      const nextSlide = useCallback(() => { if (currentSlideRef.current + 1 < slides.length) goToSlide(currentSlideRef.current + 1); }, [goToSlide]);
      const prevSlide = useCallback(() => { if (currentSlideRef.current - 1 >= 0) goToSlide(currentSlideRef.current - 1); }, [goToSlide]);

      useEffect(() => {
        const handleKeyDown = (e) => {
          if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
          if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
        };
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [nextSlide, prevSlide]);

      const slideVariants = {
        enter: (dir) => ({ x: dir > 0 ? '100%' : '-100%', opacity: 0 }),
        center: { x: 0, opacity: 1 },
        exit: (dir) => ({ x: dir > 0 ? '-100%' : '100%', opacity: 0 })
      };

      const renderSlide = (slide) => {
        switch (slide.type) {
          case 'welcome': return <WelcomeSlide data={slide} onStart={nextSlide} userName={userName} onShowGif={showGif} onHideGif={hideGif} />;
          case 'hook': return <HookSlide data={slide} />;
          case 'screen-domination': return <ScreenDominationSlide data={slide} />;
          case 'ad-growth-animation': return <AdGrowthAnimationSlide data={slide} />;
          case 'asset-stack-builder': return <AssetStackBuilderSlide data={slide} />;
          case 'competitor-crush': return <CompetitorCrushSlide data={slide} />;
          case 'ctr-roi-calculator': return <CTRROICalculatorSlide data={slide} />;
          case 'asset-priority-matrix': return <AssetPriorityMatrixSlide data={slide} />;
          case 'implementation-checklist': return <ImplementationChecklistSlide data={slide} />;
          case 'elite-insight': return <EliteInsightSlide data={slide} />;
          case 'quiz': return <QuizSlide data={slide} onShowGif={showGif} onHideGif={hideGif} />;
          case 'completion': return <CompletionSlide data={slide} />;
          default: return null;
        }
      };

      const showPrev = currentSlide > 0;
      const showNext = currentSlide < slides.length - 1 && slides[currentSlide].type !== 'welcome';

      return (
        <div className="w-full h-screen bg-white flex flex-col relative">
          <div className="flex-1 relative overflow-hidden z-20">
            <AnimatePresence mode="wait" custom={direction} onExitComplete={() => setIsAnimating(false)}>
              <motion.div key={currentSlide} custom={direction} variants={slideVariants} initial="enter" animate="center" exit="exit" transition={{ duration: 0.3, ease: [0.25, 0.1, 0.25, 1] }} className="absolute inset-0">
                {renderSlide(slides[currentSlide])}
                <AdminSlideReportButton slideIndex={currentSlide} slideType={slides[currentSlide].type} />
              </motion.div>
            </AnimatePresence>
            {showPrev && <button onClick={prevSlide} className="absolute left-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowLeft /></button>}
            {showNext && <button onClick={nextSlide} className="absolute right-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowRight /></button>}
          </div>
          <div className="px-6 md:px-8 py-5 border-t border-neutral-100 flex-shrink-0 relative z-10">
            <div className="flex items-center justify-center gap-2">
              {slides.map((_, i) => <button key={i} onClick={() => goToSlide(i)} className="w-2 h-2 rounded-full transition-all duration-300" style={{ background: i === currentSlide ? 'var(--accent)' : '#d4d4d4', transform: i === currentSlide ? 'scale(1.4)' : 'scale(1)' }} />)}
            </div>
          </div>
          <AnimatePresence>
            {gifConfig && (
              <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 30 }} transition={{ type: 'spring', stiffness: 100 }} className={`absolute ${gifConfig.side === 'left' ? 'left-4 md:left-8' : 'right-4 md:right-8'} bottom-0 pointer-events-none`} style={{ zIndex: 15, height: gifConfig.height }}>
                <video autoPlay loop muted playsInline className="h-full w-auto object-contain object-bottom" style={{ background: 'transparent', border: 'none', boxShadow: 'none' }}>
                  <source src={gifConfig.url} type="video/mp4" />
                </video>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    ReactDOM.render(<LessonApp />, document.getElementById('root'));
  </script>
</body>
</html>

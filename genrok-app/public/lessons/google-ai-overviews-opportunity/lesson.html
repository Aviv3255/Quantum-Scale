<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ads in AI Overviews: The 2026 Opportunity | Quantum Scale</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
  <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js" defer></script>
  <script src="../shared/greetings.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #f97316; --accent-dark: #ea580c; --accent-light: #fdba74; --accent-rgb: 249, 115, 22; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: transparent; -webkit-font-smoothing: antialiased; }
    .title-font { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    h1, h2, h3, .slide-title { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    ::selection { background: var(--accent); color: white; }
    .slide-scroll::-webkit-scrollbar { display: none; }
    .slide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { motion, AnimatePresence } = window.Motion;
    const { useState, useEffect, useCallback, useMemo } = React;

    const getUserName = () => { const params = new URLSearchParams(window.location.search); return params.get('userName') || 'Builder'; };
    const getInitialSlide = () => { const params = new URLSearchParams(window.location.search); const slide = params.get('slide'); return slide ? parseInt(slide, 10) : 0; };

    const LESSON_CONFIG = {
      id: 'google-ai-overviews-opportunity',
      title: 'Ads in AI Overviews: The 2026 Opportunity',
      description: 'Capture high-intent users in Google\'s new AI-powered search results',
      accentColor: '#f97316',
      duration: '5 min',
      nextLesson: { id: 'google-shopping-intent', title: 'Active Intent: Why Google Shopping Wins', teaser: 'Learn the fundamental difference between passive and active intent.' }
    };

    // ============ ADMIN REPORTER SYSTEM ============
    let __isAdmin = false;
    window.addEventListener('message', function(e) {
      if (e.data?.type === 'ADMIN_STATUS') __isAdmin = e.data.isAdmin;
    });
    if (window.parent !== window) {
      window.parent.postMessage({ type: 'CHECK_ADMIN_STATUS' }, '*');
    }

    const AdminSlideReportButton = ({ slideIndex, slideType }) => {
      const handleReport = (e) => {
        e.stopPropagation();
        e.preventDefault();
        if (window.parent !== window) {
          window.parent.postMessage({
            type: 'ADMIN_REPORT_REQUEST',
            slideIndex, slideType,
            lessonSlug: LESSON_CONFIG.id,
            elementId: slideType + '-' + slideIndex
          }, '*');
        }
      };
      return (
        <button onClick={handleReport} title={`Report issue on Slide ${slideIndex + 1} (${slideType})`}
          style={{ position: 'absolute', top: '12px', right: '12px', width: '32px', height: '32px', borderRadius: '8px', backgroundColor: 'rgba(239, 68, 68, 0.9)', color: 'white', border: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 1000, opacity: 0.6, transition: 'opacity 0.2s, transform 0.2s', boxShadow: '0 2px 8px rgba(0,0,0,0.15)' }}
          onMouseEnter={(e) => { e.currentTarget.style.opacity = '1'; e.currentTarget.style.transform = 'scale(1.1)'; }}
          onMouseLeave={(e) => { e.currentTarget.style.opacity = '0.6'; e.currentTarget.style.transform = 'scale(1)'; }}>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m8 2 1.88 1.88"/><path d="M14.12 3.88 16 2"/><path d="M9 7.13v-1a3.003 3.003 0 1 1 6 0v1"/><path d="M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6"/><path d="M12 20v-9"/><path d="M6.53 9C4.6 8.8 3 7.1 3 5"/><path d="M6 13H2"/><path d="M3 21c0-2.1 1.7-3.9 3.8-4"/><path d="M20.97 5c0 2.1-1.6 3.8-3.5 4"/><path d="M22 13h-4"/><path d="M17.2 17c2.1.1 3.8 1.9 3.8 4"/></svg>
        </button>
      );
    };
    // ============ END ADMIN REPORTER SYSTEM ============

    const celebrationGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_a_quick_victory_dance_move_high_energy_c_d03b798b-a518-4e6c-bcae-d69b2dd50486_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_jumping_in_the_air_arms_raised_high_YESSS_cele_201477e8-3df4-405a-bc81-81d1747e5c6c_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_playing_air_guitar_light_headbanging_rockstar__0702007e-9e84-4d9e-8f99-8ee23d0b65f8_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_the_running_man_dance_move_vintage_cool__25682b0f-cf4c-4e93-8dcb-6c3dac8135cd_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_standing_and_clapping_enthusiastically_mouth_o_992ac4fd-9a0e-4963-bbcc-a5271f25f4fd_3.mp4'
    ];
    const getRandomCelebrationGif = () => celebrationGifs[Math.floor(Math.random() * celebrationGifs.length)];

    const empathyGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_thumbs_down_with_encouraging_nod_close_keep_go_613e541f-c072-436f-aee7-f99cd6f834fc_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_shaking_head_side_to_side_sadly_disappointed_e_c4a4be22-6a70-4738-8612-3039454fef37_1.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_covering_face_with_palm_facepalm_gesture_disap_211b0566-078f-4d42-9c41-547b14f5827c_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_looking_down_sadly_shoulders_slumped_disappoin_790d48bd-e49e-40ea-9979-d3e86fa3a422_2.mp4'
    ];
    const getRandomEmpathyGif = () => empathyGifs[Math.floor(Math.random() * empathyGifs.length)];

    const slides = [
      { type: 'welcome', learningGoals: ['What AI Overviews are and how they\'re changing Google search', 'Why your ads can now appear inside AI-generated answers', 'How Google detects commercial intent in informational queries', 'The two requirements to be eligible for AI Overview placements'] },
      { type: 'hook', headline: 'Google is rolling out AI-generated answers at the top of search results. Your Shopping and Search ads can now appear directly inside these AI Overviews.', subtext: 'This isn\'t a separate campaign type. It\'s a new placement opportunity for your existing campaigns. And most advertisers don\'t even know it exists yet.', brandImage: 'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/Google_2015_logo.svg.png', brandName: 'Google' },
      { type: 'old-vs-new-google' },
      { type: 'ai-overview-demo' },
      { type: 'commercial-intent-detection' },
      { type: 'pool-example-visualization' },
      { type: 'two-requirements' },
      { type: 'targeting-paradigm-shift' },
      { type: 'elite-insight' },
      { type: 'quiz', question: 'What are the two requirements to be eligible for AI Overview ad placements?', options: ['High Quality Score and large budget', 'Broad Match keywords (for Search) and Smart Bidding strategies', 'Video ads and responsive search ads', 'Premium Google Ads account tier'], correctIndex: 1, feedback: { correct: 'Exactly right! Your existing campaigns are automatically eligible for AI Overview placements if you use Broad Match keywords (for Search campaigns) and Smart Bidding strategies like Target CPA or Target ROAS. This isn\'t a separate campaign type - it\'s a new placement opportunity.', incorrect: 'Not quite. To appear in AI Overviews, you need two things: (1) Broad Match keywords for Search campaigns, and (2) Smart Bidding strategies like Target CPA or Maximize Conversions. Your existing campaigns are automatically eligible if they meet these requirements.' }},
      { type: 'completion', sources: [{ name: 'Google AI Overviews Ads Guide', url: 'https://support.google.com/google-ads/answer/14120694' }] }
    ];

    const Icons = {
      Clock: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      Check: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
      X: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      ArrowLeft: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
      ArrowRight: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
      Sparkles: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>,
      Search: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
      Link: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>,
      Bot: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/></svg>,
      Target: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
      Zap: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
      Brain: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>,
      ShoppingCart: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>,
      Settings: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>,
      TrendingUp: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
      ArrowRightCircle: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 16 16 12 12 8"/><line x1="8" y1="12" x2="16" y2="12"/></svg>,
      Eye: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
      Lightbulb: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"/></svg>,
    };

    // AnimatedCounter component
    const AnimatedCounter = ({ target, duration = 2, prefix = '', suffix = '', decimals = 0 }) => {
      const [count, setCount] = useState(0);
      useEffect(() => {
        let start = 0;
        const end = parseFloat(target);
        const increment = end / (duration * 60);
        const timer = setInterval(() => {
          start += increment;
          if (start >= end) {
            setCount(end);
            clearInterval(timer);
          } else {
            setCount(start);
          }
        }, 1000 / 60);
        return () => clearInterval(timer);
      }, [target, duration]);
      return <span>{prefix}{count.toFixed(decimals)}{suffix}</span>;
    };

    const WelcomeSlide = ({ data, onStart, userName, onShowGif, onHideGif }) => {
      const welcomeData = useMemo(() => getTimeBasedWelcome(), []);
      const gifSide = useMemo(() => Math.random() > 0.5 ? 'left' : 'right', []);
      useEffect(() => { onShowGif(welcomeData.gif, '65%', gifSide); return () => onHideGif(); }, [welcomeData.gif, gifSide, onShowGif, onHideGif]);

      return (
        <div className="h-full w-full relative overflow-hidden">
          <div className="h-full flex flex-col items-center justify-center text-center px-6 py-4 relative z-20">
            <motion.h1 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="title-font text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-black mb-2 md:mb-3">{LESSON_CONFIG.title}</motion.h1>
            <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-neutral-600 text-base md:text-lg lg:text-xl mb-2 md:mb-3 max-w-lg leading-relaxed" dangerouslySetInnerHTML={{ __html: formatGreeting(welcomeData.greeting, `<span class="font-bold text-neutral-900">${userName}</span>`) }} />
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="flex items-center justify-center gap-1.5 text-neutral-400 text-[10px] md:text-xs mb-2 md:mb-3"><Icons.Clock /><span>{LESSON_CONFIG.duration}</span></motion.div>
            <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className="bg-neutral-900 rounded-xl md:rounded-2xl p-3 md:p-5 mb-3 md:mb-4 max-w-sm w-full mx-auto">
              <p className="text-neutral-500 text-[9px] md:text-[11px] uppercase tracking-wider mb-2 md:mb-3">In this lesson</p>
              <ul className="space-y-1.5 md:space-y-2">
                {data.learningGoals.map((goal, i) => (
                  <motion.li key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.25 + i * 0.05 }} className="flex items-start gap-2 text-left">
                    <span className="w-5 h-5 rounded-md flex items-center justify-center text-[9px] font-bold text-white flex-shrink-0 mt-0.5" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>{i + 1}</span>
                    <span className="text-neutral-300 text-[11px] md:text-sm leading-snug">{goal}</span>
                  </motion.li>
                ))}
              </ul>
            </motion.div>
            <motion.button initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.45 }} onClick={onStart} whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }} className="px-6 md:px-7 py-2.5 md:py-3 rounded-xl text-white font-semibold text-sm md:text-base" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>Let's Go</motion.button>
          </div>
        </div>
      );
    };

    const HookSlide = ({ data }) => (
      <div className="h-full relative overflow-hidden">
        <div className="h-full flex flex-col justify-center px-6 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-8 md:py-10 relative z-10">
          <motion.div initial={{ opacity: 0, y: 40 }} animate={{ opacity: 1, y: 0 }} className="mb-4 md:mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3 md:mb-4" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>The Hook</span>
            <h2 className="slide-title text-2xl md:text-4xl lg:text-5xl text-black leading-tight">{data.headline}</h2>
          </motion.div>
          <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="text-base md:text-xl text-neutral-600 leading-relaxed">{data.subtext}</motion.p>
        </div>
        {data.brandImage && (
          <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3, duration: 0.5 }}
            className="absolute bottom-0 right-0 z-0 pointer-events-none hidden md:block" style={{ height: '30%', maxHeight: '200px', marginRight: '80px', marginBottom: '5%' }}>
            <img src={data.brandImage} alt={data.brandName || ''} className="h-full w-auto object-contain" style={{ opacity: 1 }} />
          </motion.div>
        )}
      </div>
    );

    // UNIQUE SLIDE TYPE 1: Old vs New Google Comparison
    const OldVsNewGoogleSlide = ({ data }) => {
      const [showNew, setShowNew] = useState(false);
      useEffect(() => {
        const timer = setTimeout(() => setShowNew(true), 2000);
        return () => clearTimeout(timer);
      }, []);

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>THE SHIFT</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">Google Search is Changing Forever</h2>
          </motion.div>

          <div className="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
            {/* OLD GOOGLE */}
            <motion.div
              initial={{ opacity: 0, x: -30 }}
              animate={{ opacity: showNew ? 0.5 : 1, x: 0 }}
              transition={{ delay: 0.2 }}
              style={{
                background: '#f5f5f5',
                borderRadius: '16px',
                padding: '24px',
                position: 'relative',
                overflow: 'hidden',
                filter: showNew ? 'grayscale(50%)' : 'none',
                transition: 'all 0.5s ease'
              }}
            >
              <div className="text-center mb-4">
                <span className="text-xs font-bold px-3 py-1 rounded-full bg-neutral-300 text-neutral-600">OLD GOOGLE</span>
              </div>

              {/* Search Bar */}
              <div className="bg-white rounded-full px-4 py-2 flex items-center gap-2 mb-4 border border-neutral-200">
                <Icons.Search />
                <span className="text-sm text-neutral-500">how to clean green pool</span>
              </div>

              {/* 10 Blue Links */}
              <div className="space-y-2">
                {[1, 2, 3, 4, 5].map((i) => (
                  <div key={i} className="flex items-center gap-2 p-2 bg-white rounded-lg">
                    <Icons.Link />
                    <div className="flex-1">
                      <div className="h-2 bg-blue-400 rounded w-3/4 mb-1"></div>
                      <div className="h-2 bg-neutral-200 rounded w-1/2"></div>
                    </div>
                  </div>
                ))}
              </div>

              <div className="mt-4 text-center text-neutral-500 text-xs">10 blue links - click to find answer</div>
            </motion.div>

            {/* NEW GOOGLE */}
            <motion.div
              initial={{ opacity: 0, x: 30 }}
              animate={{ opacity: showNew ? 1 : 0.3, x: 0 }}
              transition={{ delay: 0.4 }}
              style={{
                background: showNew ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : '#f5f5f5',
                borderRadius: '16px',
                padding: '24px',
                position: 'relative',
                overflow: 'hidden',
                boxShadow: showNew ? '0 0 40px rgba(249, 115, 22, 0.2)' : 'none',
                transition: 'all 0.5s ease'
              }}
            >
              {showNew && <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3px', background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />}

              <div className="text-center mb-4">
                <span className="text-xs font-bold px-3 py-1 rounded-full" style={{ background: showNew ? 'var(--accent)' : '#d1d5db', color: showNew ? 'white' : '#6b7280' }}>NEW GOOGLE 2026</span>
              </div>

              {/* Search Bar */}
              <div className="rounded-full px-4 py-2 flex items-center gap-2 mb-4" style={{ background: showNew ? 'rgba(255,255,255,0.1)' : 'white', border: showNew ? '1px solid rgba(255,255,255,0.2)' : '1px solid #e5e7eb' }}>
                <span style={{ color: showNew ? '#9ca3af' : '#9ca3af' }}><Icons.Search /></span>
                <span className="text-sm" style={{ color: showNew ? '#9ca3af' : '#6b7280' }}>how to clean green pool</span>
              </div>

              {/* AI Overview Box */}
              <div className="rounded-xl p-3 mb-2" style={{ background: showNew ? 'rgba(59, 130, 246, 0.2)' : '#f3f4f6', border: showNew ? '1px solid #3b82f6' : '1px solid #d1d5db' }}>
                <div className="flex items-center gap-2 mb-2">
                  <span style={{ color: showNew ? '#60a5fa' : '#9ca3af' }}><Icons.Sparkles /></span>
                  <span className="text-xs font-bold" style={{ color: showNew ? '#60a5fa' : '#9ca3af' }}>AI Overview</span>
                </div>
                <div className="text-xs leading-relaxed" style={{ color: showNew ? '#d1d5db' : '#6b7280' }}>
                  To clean a green pool: 1) Test pH levels 2) Shock with chlorine 3) Run filter 24hrs...
                </div>
              </div>

              {/* Embedded Ad */}
              {showNew && (
                <motion.div
                  initial={{ opacity: 0, scale: 0.9 }}
                  animate={{ opacity: 1, scale: 1 }}
                  transition={{ delay: 0.5, type: 'spring' }}
                  className="rounded-xl p-3"
                  style={{ background: 'rgba(249, 115, 22, 0.2)', border: '1px solid var(--accent)' }}
                >
                  <div className="flex items-center gap-2">
                    <span className="text-xs px-2 py-0.5 rounded" style={{ background: 'var(--accent)', color: 'white' }}>Ad</span>
                    <span className="text-white text-xs font-semibold">Pool Shock Chlorine - $24.99</span>
                  </div>
                </motion.div>
              )}

              <div className="mt-4 text-center text-xs" style={{ color: showNew ? 'var(--accent)' : '#9ca3af' }}>
                {showNew ? 'AI answers + ads embedded inside!' : 'Coming soon...'}
              </div>
            </motion.div>
          </div>

          {/* Impact Badge */}
          <AnimatePresence>
            {showNew && (
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0 }}
                className="flex justify-center mt-6"
              >
                <div className="flex items-center gap-2 px-4 py-2 rounded-full" style={{ background: 'var(--accent)', color: 'white' }}>
                  <Icons.Zap />
                  <span className="font-bold">Users may never click organic results</span>
                </div>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 2: AI Overview Phone Demo
    const AIOverviewDemoSlide = ({ data }) => {
      const [step, setStep] = useState(0);
      useEffect(() => {
        const interval = setInterval(() => {
          setStep(prev => (prev + 1) % 4);
        }, 2500);
        return () => clearInterval(interval);
      }, []);

      const steps = [
        { label: 'User searches', highlight: 'search' },
        { label: 'AI generates answer', highlight: 'ai' },
        { label: 'Commercial intent detected', highlight: 'intent' },
        { label: 'Product ad appears', highlight: 'ad' }
      ];

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>HOW IT WORKS</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">Your Ad Inside the AI Answer</h2>
          </motion.div>

          <div className="flex flex-col md:flex-row items-center gap-8">
            {/* Phone Mockup */}
            <motion.div
              initial={{ opacity: 0, scale: 0.9 }}
              animate={{ opacity: 1, scale: 1 }}
              className="w-64 mx-auto"
            >
              <div
                style={{
                  background: 'linear-gradient(135deg, #1f2937, #111827)',
                  borderRadius: '32px',
                  padding: '12px',
                  boxShadow: '0 25px 50px rgba(0,0,0,0.25)'
                }}
              >
                <div style={{ background: 'white', borderRadius: '24px', padding: '16px', minHeight: '400px' }}>
                  {/* Search Bar */}
                  <motion.div
                    animate={{ boxShadow: step === 0 ? '0 0 20px rgba(249, 115, 22, 0.5)' : 'none' }}
                    className="rounded-full px-3 py-2 flex items-center gap-2 mb-4"
                    style={{ background: '#f3f4f6' }}
                  >
                    <div className="w-5 h-5 rounded-full" style={{ background: '#4285f4' }}></div>
                    <span className="text-xs text-neutral-500">how to clean green pool</span>
                  </motion.div>

                  {/* AI Overview */}
                  <motion.div
                    animate={{
                      boxShadow: step === 1 ? '0 0 20px rgba(59, 130, 246, 0.5)' : step === 2 ? '0 0 20px rgba(34, 197, 94, 0.5)' : 'none'
                    }}
                    className="rounded-xl p-3 mb-3"
                    style={{ background: '#dbeafe', border: '1px solid #3b82f6' }}
                  >
                    <div className="flex items-center gap-1 mb-2">
                      <Icons.Sparkles />
                      <span className="text-xs font-bold text-blue-600">AI Overview</span>
                    </div>
                    <p className="text-xs text-blue-800 leading-relaxed">
                      Steps to clean a green pool:
                      <br />1. Test and balance pH
                      <br />2. Shock with chlorine
                      <br />3. Run filter 24 hours
                    </p>

                    {/* Intent Detection Badge */}
                    {step >= 2 && (
                      <motion.div
                        initial={{ opacity: 0, scale: 0.8 }}
                        animate={{ opacity: 1, scale: 1 }}
                        className="mt-2 flex items-center gap-1"
                      >
                        <span className="text-[10px] px-2 py-0.5 rounded-full bg-green-500 text-white">Commercial Intent Detected</span>
                      </motion.div>
                    )}
                  </motion.div>

                  {/* Embedded Product Ad */}
                  <motion.div
                    animate={{
                      opacity: step >= 3 ? 1 : 0.3,
                      scale: step >= 3 ? 1 : 0.95,
                      boxShadow: step === 3 ? '0 0 20px rgba(249, 115, 22, 0.5)' : 'none'
                    }}
                    transition={{ type: 'spring' }}
                    className="rounded-xl p-3"
                    style={{ background: '#fed7aa', border: '2px solid #f97316' }}
                  >
                    <span className="text-[10px] px-1.5 py-0.5 rounded bg-orange-500 text-white font-bold">Sponsored</span>
                    <div className="flex items-center gap-2 mt-2">
                      <div className="w-10 h-10 rounded-lg flex items-center justify-center" style={{ background: '#fb923c' }}>
                        <span className="text-lg">ðŸ§´</span>
                      </div>
                      <div>
                        <p className="text-xs font-bold text-neutral-800">Pool Shock Chlorine</p>
                        <p className="text-[10px] text-neutral-600">Clears green water fast</p>
                        <p className="text-xs font-bold text-orange-600">$24.99</p>
                      </div>
                    </div>
                  </motion.div>
                </div>
              </div>
            </motion.div>

            {/* Steps */}
            <div className="flex-1 space-y-3">
              {steps.map((s, i) => (
                <motion.div
                  key={i}
                  initial={{ opacity: 0, x: 20 }}
                  animate={{ opacity: 1, x: 0 }}
                  transition={{ delay: 0.2 + i * 0.1 }}
                  style={{
                    background: step === i ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : '#f5f5f5',
                    borderRadius: '12px',
                    padding: '16px',
                    position: 'relative',
                    overflow: 'hidden',
                    transition: 'all 0.3s ease'
                  }}
                >
                  {step === i && <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3px', background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />}
                  <div className="flex items-center gap-3">
                    <div
                      className="w-8 h-8 rounded-full flex items-center justify-center"
                      style={{
                        background: step === i ? 'var(--accent)' : '#e5e5e5',
                        color: step === i ? 'white' : '#9ca3af'
                      }}
                    >
                      {i + 1}
                    </div>
                    <span
                      className="font-semibold text-sm"
                      style={{ color: step === i ? 'white' : '#374151' }}
                    >
                      {s.label}
                    </span>
                    {step > i && (
                      <span style={{ color: '#22c55e', marginLeft: 'auto' }}><Icons.Check /></span>
                    )}
                  </div>
                </motion.div>
              ))}
            </div>
          </div>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 3: Commercial Intent Detection
    const CommercialIntentDetectionSlide = ({ data }) => {
      const [showIntent, setShowIntent] = useState(false);
      useEffect(() => {
        const timer = setTimeout(() => setShowIntent(true), 1500);
        return () => clearTimeout(timer);
      }, []);

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>THE MAGIC</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">AI Detects Hidden Purchase Intent</h2>
          </motion.div>

          {/* Flow Visualization */}
          <div className="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8">
            {/* Informational Query */}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.2 }}
              className="text-center"
            >
              <div
                className="w-32 h-32 rounded-full flex flex-col items-center justify-center mx-auto mb-2"
                style={{ background: '#dbeafe', border: '3px solid #3b82f6' }}
              >
                <span style={{ color: '#3b82f6' }}><Icons.Search /></span>
                <span className="text-xs font-bold text-blue-600 mt-1">QUERY</span>
              </div>
              <p className="text-sm text-neutral-600 max-w-[120px]">"How do I clean my green pool?"</p>
              <span className="text-xs text-blue-500 font-semibold">Informational</span>
            </motion.div>

            {/* Arrow 1 */}
            <motion.div
              initial={{ opacity: 0, scale: 0 }}
              animate={{ opacity: 1, scale: 1 }}
              transition={{ delay: 0.4 }}
              className="hidden md:block"
              style={{ color: showIntent ? '#22c55e' : '#d1d5db' }}
            >
              <Icons.ArrowRightCircle />
            </motion.div>

            {/* AI Brain Detection */}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.5 }}
              className="text-center"
            >
              <motion.div
                animate={{
                  boxShadow: showIntent ? '0 0 40px rgba(34, 197, 94, 0.4)' : 'none',
                  scale: showIntent ? 1.05 : 1
                }}
                className="w-32 h-32 rounded-full flex flex-col items-center justify-center mx-auto mb-2"
                style={{
                  background: showIntent ? 'linear-gradient(135deg, #22c55e, #16a34a)' : '#f3f4f6',
                  border: showIntent ? '3px solid #22c55e' : '3px solid #d1d5db',
                  transition: 'all 0.5s ease'
                }}
              >
                <span style={{ color: showIntent ? 'white' : '#9ca3af' }}><Icons.Brain /></span>
                <span className="text-xs font-bold mt-1" style={{ color: showIntent ? 'white' : '#9ca3af' }}>AI BRAIN</span>
              </motion.div>
              <p className="text-sm font-bold" style={{ color: showIntent ? '#22c55e' : '#9ca3af' }}>
                {showIntent ? 'Intent Detected!' : 'Analyzing...'}
              </p>
              <span className="text-xs text-neutral-500">Needs pool products</span>
            </motion.div>

            {/* Arrow 2 */}
            <motion.div
              initial={{ opacity: 0, scale: 0 }}
              animate={{ opacity: showIntent ? 1 : 0, scale: showIntent ? 1 : 0 }}
              transition={{ delay: 0.7 }}
              className="hidden md:block"
              style={{ color: 'var(--accent)' }}
            >
              <Icons.ArrowRightCircle />
            </motion.div>

            {/* Product Ad */}
            <motion.div
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: showIntent ? 1 : 0.3, y: 0, scale: showIntent ? 1 : 0.9 }}
              transition={{ delay: 0.8 }}
              className="text-center"
            >
              <div
                className="w-32 h-32 rounded-full flex flex-col items-center justify-center mx-auto mb-2"
                style={{
                  background: showIntent ? 'linear-gradient(135deg, var(--accent), var(--accent-dark))' : '#f3f4f6',
                  border: showIntent ? '3px solid var(--accent)' : '3px solid #d1d5db',
                  boxShadow: showIntent ? '0 0 30px rgba(249, 115, 22, 0.3)' : 'none'
                }}
              >
                <span style={{ color: showIntent ? 'white' : '#9ca3af' }}><Icons.ShoppingCart /></span>
                <span className="text-xs font-bold mt-1" style={{ color: showIntent ? 'white' : '#9ca3af' }}>AD SHOWN</span>
              </div>
              <p className="text-sm text-neutral-600 max-w-[120px]">Pool Chlorine & Algaecide</p>
              <span className="text-xs font-bold" style={{ color: 'var(--accent)' }}>$24.99</span>
            </motion.div>
          </div>

          {/* Bottom Insight */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: showIntent ? 1 : 0, y: showIntent ? 0 : 20 }}
            transition={{ delay: 1 }}
            style={{
              background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)',
              borderRadius: '16px',
              padding: '20px 24px',
              marginTop: '32px',
              position: 'relative',
              overflow: 'hidden',
              maxWidth: '600px',
              marginLeft: 'auto',
              marginRight: 'auto'
            }}
          >
            <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3px', background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />
            <div className="flex items-center gap-3">
              <div style={{ background: 'linear-gradient(135deg, var(--accent), var(--accent-dark))', borderRadius: '10px', padding: '10px', flexShrink: 0 }}>
                <span style={{ color: 'white' }}><Icons.Lightbulb /></span>
              </div>
              <div>
                <p className="text-white font-bold text-sm mb-1">Demand That Was Previously Invisible</p>
                <p className="text-neutral-400 text-xs">This user wasn't searching for products. But Google's AI understood they NEED products to solve their problem.</p>
              </div>
            </div>
          </motion.div>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 4: Pool Example Visualization
    const PoolExampleVisualizationSlide = ({ data }) => {
      const [showProducts, setShowProducts] = useState(false);
      useEffect(() => {
        const timer = setTimeout(() => setShowProducts(true), 2000);
        return () => clearTimeout(timer);
      }, []);

      const products = [
        { name: 'Pool Shock', price: '$24.99', rating: '4.8' },
        { name: 'Algaecide', price: '$18.99', rating: '4.6' },
        { name: 'Test Kit', price: '$12.99', rating: '4.9' }
      ];

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>REAL EXAMPLE</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">Capturing Demand at the Right Moment</h2>
          </motion.div>

          {/* AI Overview Card */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            style={{
              background: 'linear-gradient(135deg, #dbeafe, #bfdbfe)',
              borderRadius: '20px',
              padding: '24px',
              position: 'relative',
              overflow: 'hidden',
              maxWidth: '700px',
              margin: '0 auto',
              border: '2px solid #3b82f6'
            }}
          >
            {/* AI Badge */}
            <div className="flex items-center gap-2 mb-4">
              <div className="flex items-center gap-1 px-3 py-1 rounded-full" style={{ background: '#3b82f6', color: 'white' }}>
                <Icons.Sparkles />
                <span className="text-xs font-bold">AI Overview</span>
              </div>
            </div>

            {/* Answer Content */}
            <div className="mb-4">
              <h3 className="font-bold text-blue-900 mb-2">How to Clean a Green Pool</h3>
              <ol className="list-decimal list-inside text-sm text-blue-800 space-y-1">
                <li>Test and balance pH levels (7.2-7.6)</li>
                <li>Shock the pool with chlorine</li>
                <li>Run filter continuously for 24 hours</li>
                <li>Brush walls and vacuum debris</li>
                <li>Repeat if necessary</li>
              </ol>
            </div>

            {/* Products Section */}
            <AnimatePresence>
              {showProducts && (
                <motion.div
                  initial={{ opacity: 0, height: 0 }}
                  animate={{ opacity: 1, height: 'auto' }}
                  exit={{ opacity: 0, height: 0 }}
                >
                  <div className="border-t-2 border-blue-300 pt-4 mt-4">
                    <div className="flex items-center gap-2 mb-3">
                      <span className="text-xs px-2 py-1 rounded font-bold" style={{ background: 'var(--accent)', color: 'white' }}>Sponsored</span>
                      <span className="text-xs text-blue-700 font-semibold">Products you might need</span>
                    </div>

                    <div className="grid grid-cols-3 gap-3">
                      {products.map((product, i) => (
                        <motion.div
                          key={i}
                          initial={{ opacity: 0, y: 20 }}
                          animate={{ opacity: 1, y: 0 }}
                          transition={{ delay: 0.2 + i * 0.1 }}
                          className="rounded-xl p-3 text-center"
                          style={{ background: 'white', border: '2px solid var(--accent)' }}
                        >
                          <div className="w-10 h-10 rounded-lg mx-auto mb-2 flex items-center justify-center" style={{ background: '#fed7aa' }}>
                            <span className="text-lg">ðŸ§´</span>
                          </div>
                          <p className="text-xs font-bold text-neutral-800">{product.name}</p>
                          <p className="text-xs text-green-600">{product.rating}â˜…</p>
                          <p className="text-sm font-bold" style={{ color: 'var(--accent)' }}>{product.price}</p>
                        </motion.div>
                      ))}
                    </div>
                  </div>
                </motion.div>
              )}
            </AnimatePresence>
          </motion.div>

          {/* Stat Badges */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: showProducts ? 1 : 0, y: showProducts ? 0 : 20 }}
            transition={{ delay: 0.5 }}
            className="flex justify-center gap-4 mt-6"
          >
            <div className="text-center px-4 py-2 rounded-xl" style={{ background: '#f5f5f5' }}>
              <p className="text-2xl font-bold" style={{ color: 'var(--accent)' }}>100%</p>
              <p className="text-xs text-neutral-500">Contextual Relevance</p>
            </div>
            <div className="text-center px-4 py-2 rounded-xl" style={{ background: '#f5f5f5' }}>
              <p className="text-2xl font-bold" style={{ color: '#22c55e' }}>0</p>
              <p className="text-xs text-neutral-500">Extra Clicks Needed</p>
            </div>
            <div className="text-center px-4 py-2 rounded-xl" style={{ background: '#f5f5f5' }}>
              <p className="text-2xl font-bold" style={{ color: '#3b82f6' }}>High</p>
              <p className="text-xs text-neutral-500">Purchase Intent</p>
            </div>
          </motion.div>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 5: Two Requirements Checklist
    const TwoRequirementsSlide = ({ data }) => {
      const [checked, setChecked] = useState([]);

      const requirements = [
        {
          num: 1,
          title: 'Broad Match Keywords',
          desc: 'For Search campaigns only. AI Overviews appear for a wide range of query variations. Broad Match allows Google to show your ads for these variations.',
          forType: 'Search Campaigns',
          icon: Icons.Search,
          color: '#3b82f6',
          anti: 'Exact Match is too restrictive'
        },
        {
          num: 2,
          title: 'Smart Bidding Strategies',
          desc: 'Target CPA, Target ROAS, Maximize Conversions, or Maximize Conversion Value. AI determines when to show your ad based on intent signals.',
          forType: 'All Campaigns',
          icon: Icons.Brain,
          color: '#22c55e',
          anti: 'Manual CPC won\'t work'
        }
      ];

      const toggleCheck = (num) => {
        setChecked(prev => prev.includes(num) ? prev.filter(n => n !== num) : [...prev, num]);
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>ELIGIBILITY</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">Two Requirements to Be Eligible</h2>
            <p className="text-neutral-600 text-sm mt-2">No separate campaign needed - just meet these criteria</p>
          </motion.div>

          <div className="space-y-4">
            {requirements.map((req, i) => (
              <motion.div
                key={req.num}
                initial={{ opacity: 0, x: -30 }}
                animate={{ opacity: 1, x: 0 }}
                transition={{ delay: 0.2 + i * 0.15 }}
                onClick={() => toggleCheck(req.num)}
                className="cursor-pointer"
                style={{
                  background: checked.includes(req.num) ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : '#f5f5f5',
                  borderRadius: '16px',
                  padding: '24px',
                  position: 'relative',
                  overflow: 'hidden',
                  transition: 'all 0.3s ease',
                  boxShadow: checked.includes(req.num) ? `0 0 30px ${req.color}30` : 'none'
                }}
              >
                {checked.includes(req.num) && (
                  <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3px', background: `linear-gradient(90deg, transparent, ${req.color}, transparent)` }} />
                )}

                <div className="flex items-start gap-4">
                  {/* Checkbox */}
                  <div
                    className="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0"
                    style={{
                      background: checked.includes(req.num) ? req.color : '#e5e5e5',
                      transition: 'all 0.3s ease'
                    }}
                  >
                    {checked.includes(req.num) ? (
                      <Icons.Check />
                    ) : (
                      <span className="text-lg font-bold text-neutral-500">{req.num}</span>
                    )}
                  </div>

                  <div className="flex-1">
                    <div className="flex items-center gap-2 mb-1">
                      <span className="text-xs px-2 py-0.5 rounded-full" style={{ background: `${req.color}20`, color: req.color }}>{req.forType}</span>
                    </div>
                    <h3 className="font-bold text-lg mb-1" style={{ color: checked.includes(req.num) ? 'white' : '#1f2937' }}>
                      {req.title}
                    </h3>
                    <p className="text-sm mb-2" style={{ color: checked.includes(req.num) ? '#9ca3af' : '#6b7280' }}>
                      {req.desc}
                    </p>
                    <div className="flex items-center gap-1" style={{ color: '#ef4444' }}>
                      <Icons.X />
                      <span className="text-xs">{req.anti}</span>
                    </div>
                  </div>

                  {/* Icon */}
                  <div
                    className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0"
                    style={{
                      background: checked.includes(req.num) ? `${req.color}30` : '#e5e5e5',
                      color: checked.includes(req.num) ? req.color : '#9ca3af'
                    }}
                  >
                    <req.icon />
                  </div>
                </div>
              </motion.div>
            ))}
          </div>

          {/* Status */}
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.6 }}
            className="flex justify-center mt-6"
          >
            {checked.length === 2 ? (
              <div className="flex items-center gap-2 px-4 py-2 rounded-full" style={{ background: '#22c55e', color: 'white' }}>
                <Icons.Check />
                <span className="font-bold">You're Eligible for AI Overview Placements!</span>
              </div>
            ) : (
              <div className="text-neutral-500 text-sm">Click each requirement to check it off</div>
            )}
          </motion.div>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 6: Targeting Paradigm Shift
    const TargetingParadigmShiftSlide = ({ data }) => {
      const [showNew, setShowNew] = useState(false);
      useEffect(() => {
        const timer = setTimeout(() => setShowNew(true), 1500);
        return () => clearTimeout(timer);
      }, []);

      const oldApproach = [
        { icon: Icons.Target, label: 'Exact Match keywords' },
        { icon: Icons.Settings, label: 'Manual bid adjustments' },
        { icon: Icons.Eye, label: 'Tightly controlled targeting' },
        { icon: Icons.Settings, label: 'You tell Google exactly what to do' }
      ];

      const newApproach = [
        { icon: Icons.Search, label: 'Broad Match keywords' },
        { icon: Icons.Brain, label: 'Smart Bidding strategies' },
        { icon: Icons.Sparkles, label: 'AI detects intent signals' },
        { icon: Icons.Bot, label: 'Google figures out when and where' }
      ];

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>THE BIGGER SHIFT</span>
            <h2 className="slide-title text-2xl md:text-3xl text-black">From Manual Control to AI-Powered</h2>
          </motion.div>

          <div className="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
            {/* OLD */}
            <motion.div
              initial={{ opacity: 0, x: -30 }}
              animate={{ opacity: showNew ? 0.6 : 1, x: 0 }}
              style={{
                background: '#f5f5f5',
                borderRadius: '16px',
                padding: '24px',
                position: 'relative',
                overflow: 'hidden',
                filter: showNew ? 'grayscale(30%)' : 'none',
                transition: 'all 0.5s ease'
              }}
            >
              <div className="text-center mb-4">
                <span className="text-xs font-bold px-3 py-1 rounded-full bg-neutral-300 text-neutral-600">OLD APPROACH</span>
              </div>

              <div className="space-y-3">
                {oldApproach.map((item, i) => (
                  <div key={i} className="flex items-center gap-3 p-3 rounded-lg bg-white">
                    <span className="text-neutral-400"><item.icon /></span>
                    <span className="text-sm text-neutral-600">{item.label}</span>
                  </div>
                ))}
              </div>

              {showNew && (
                <motion.div
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1 }}
                  className="absolute inset-0 flex items-center justify-center"
                  style={{ background: 'rgba(239, 68, 68, 0.1)' }}
                >
                  <span className="text-4xl font-bold text-red-500 rotate-[-15deg]">OUTDATED</span>
                </motion.div>
              )}
            </motion.div>

            {/* NEW */}
            <motion.div
              initial={{ opacity: 0, x: 30 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ delay: 0.3 }}
              style={{
                background: showNew ? 'linear-gradient(135deg, #1a1a1a, #2d2d2d)' : '#f5f5f5',
                borderRadius: '16px',
                padding: '24px',
                position: 'relative',
                overflow: 'hidden',
                boxShadow: showNew ? '0 0 40px rgba(249, 115, 22, 0.2)' : 'none',
                transition: 'all 0.5s ease'
              }}
            >
              {showNew && <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '3px', background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />}

              <div className="text-center mb-4">
                <span className="text-xs font-bold px-3 py-1 rounded-full" style={{ background: showNew ? 'var(--accent)' : '#d1d5db', color: showNew ? 'white' : '#6b7280' }}>NEW APPROACH</span>
              </div>

              <div className="space-y-3">
                {newApproach.map((item, i) => (
                  <motion.div
                    key={i}
                    initial={{ opacity: 0, x: 20 }}
                    animate={{ opacity: showNew ? 1 : 0.5, x: 0 }}
                    transition={{ delay: showNew ? 0.5 + i * 0.1 : 0 }}
                    className="flex items-center gap-3 p-3 rounded-lg"
                    style={{ background: showNew ? 'rgba(255,255,255,0.1)' : 'white' }}
                  >
                    <span style={{ color: showNew ? 'var(--accent)' : '#9ca3af' }}><item.icon /></span>
                    <span className="text-sm" style={{ color: showNew ? 'white' : '#6b7280' }}>{item.label}</span>
                  </motion.div>
                ))}
              </div>
            </motion.div>
          </div>

          {/* Key Insight */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: showNew ? 1 : 0, y: showNew ? 0 : 20 }}
            transition={{ delay: 1 }}
            className="flex justify-center mt-6"
          >
            <div
              style={{
                background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)',
                borderRadius: '12px',
                padding: '16px 24px',
                maxWidth: '500px'
              }}
            >
              <p className="text-white text-sm text-center">
                <span className="font-bold" style={{ color: 'var(--accent)' }}>This requires trust.</span> You have to let go of some control. But advertisers who embrace this will capture demand in places they never could before.
              </p>
            </div>
          </motion.div>
        </div>
      );
    };

    // UNIQUE SLIDE TYPE 7: Elite Insight
    const EliteInsightSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div
          initial={{ opacity: 0, scale: 0.95 }}
          animate={{ opacity: 1, scale: 1 }}
          style={{
            background: 'linear-gradient(135deg, #1a1a1a, #2d2d2d)',
            borderRadius: '24px',
            padding: '40px',
            position: 'relative',
            overflow: 'hidden',
            boxShadow: '0 0 60px rgba(249, 115, 22, 0.15)'
          }}
        >
          <div style={{ position: 'absolute', top: 0, left: 0, right: 0, height: '4px', background: 'linear-gradient(90deg, transparent, var(--accent), transparent)' }} />

          <motion.div
            initial={{ opacity: 0, y: -20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.2 }}
            className="text-center mb-6"
          >
            <div className="inline-flex items-center justify-center w-16 h-16 rounded-full mb-4" style={{ background: 'linear-gradient(135deg, var(--accent), var(--accent-dark))' }}>
              <Icons.Sparkles />
            </div>
          </motion.div>

          <motion.blockquote
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.3 }}
            className="text-center mb-8"
          >
            <p className="text-white text-xl md:text-2xl font-bold leading-relaxed mb-4">
              "AI Overviews are just the beginning. <span style={{ color: 'var(--accent)' }}>Adapt or get left behind.</span>"
            </p>
            <p className="text-neutral-400 text-lg">
              The future of Google Ads is AI-powered targeting.
            </p>
          </motion.blockquote>

          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.4 }}
            className="grid grid-cols-2 gap-4"
          >
            <div className="text-center p-4 rounded-xl" style={{ background: 'rgba(59, 130, 246, 0.1)' }}>
              <div className="mb-2" style={{ color: '#3b82f6' }}><Icons.Search /></div>
              <p className="text-sm font-bold text-white">Broad Match</p>
              <p className="text-xs text-neutral-400">For Search campaigns</p>
            </div>
            <div className="text-center p-4 rounded-xl" style={{ background: 'rgba(34, 197, 94, 0.1)' }}>
              <div className="mb-2" style={{ color: '#22c55e' }}><Icons.Brain /></div>
              <p className="text-sm font-bold text-white">Smart Bidding</p>
              <p className="text-xs text-neutral-400">For all campaigns</p>
            </div>
          </motion.div>

          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.6 }}
            className="mt-6 pt-6 border-t border-neutral-700 text-center"
          >
            <p className="text-neutral-400 text-sm">
              Still using Exact Match and Manual CPC?<br/>
              <span className="text-white font-semibold">You're missing this entire opportunity.</span>
            </p>
          </motion.div>
        </motion.div>
      </div>
    );

    const QuizSlide = ({ data, onAnswer, onShowGif, onHideGif }) => {
      const [selected, setSelected] = useState(null);
      const [answered, setAnswered] = useState(false);
      const handleSelect = (index) => {
        if (answered) return;
        setSelected(index);
        setAnswered(true);
        const isCorrect = index === data.correctIndex;
        const gif = isCorrect ? getRandomCelebrationGif() : getRandomEmpathyGif();
        onShowGif(gif, '50%', 'center');
        setTimeout(() => onHideGif(), 3000);
        onAnswer(isCorrect);
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto slide-scroll overflow-y-auto py-8">
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-3" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>Knowledge Check</span>
            <h2 className="slide-title text-xl md:text-2xl text-black">{data.question}</h2>
          </motion.div>
          <div className="space-y-3 mb-6">
            {data.options.map((option, i) => (
              <motion.button key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.05 }} onClick={() => handleSelect(i)} disabled={answered} className={`w-full text-left p-4 rounded-xl border-2 transition-all ${answered ? (i === data.correctIndex ? 'border-green-500 bg-green-50' : i === selected ? 'border-red-500 bg-red-50' : 'border-neutral-200 bg-neutral-50') : 'border-neutral-200 bg-white hover:border-orange-300 hover:bg-orange-50'}`}>
                <div className="flex items-center gap-3">
                  <div className={`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${answered ? (i === data.correctIndex ? 'bg-green-500' : i === selected ? 'bg-red-500' : 'bg-neutral-300') : 'bg-neutral-200'}`}>
                    {answered && i === data.correctIndex && <Icons.Check className="text-white" />}
                    {answered && i === selected && i !== data.correctIndex && <Icons.X className="text-white" />}
                  </div>
                  <span className="text-sm md:text-base text-neutral-700">{option}</span>
                </div>
              </motion.button>
            ))}
          </div>
          <AnimatePresence>
            {answered && (
              <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0 }} className={`rounded-xl p-4 ${selected === data.correctIndex ? 'bg-green-50 border-2 border-green-200' : 'bg-orange-50 border-2 border-orange-200'}`}>
                <p className="text-sm text-neutral-700 leading-relaxed">{selected === data.correctIndex ? data.feedback.correct : data.feedback.incorrect}</p>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    const CompletionSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center items-center text-center px-6 py-10">
        <motion.div initial={{ scale: 0 }} animate={{ scale: 1 }} transition={{ type: 'spring', duration: 0.6 }}>
          <div className="w-20 h-20 rounded-full flex items-center justify-center mb-4 mx-auto" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>
            <Icons.Check className="text-white" />
          </div>
        </motion.div>
        <motion.h2 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }} className="slide-title text-3xl md:text-4xl text-black mb-3">Lesson Complete!</motion.h2>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }} className="text-neutral-600 text-base md:text-lg mb-6 max-w-md">You now understand how to capture high-intent users in Google's AI Overviews - the biggest search opportunity of 2026.</motion.p>
        {data.sources && data.sources.length > 0 && (
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }} className="bg-neutral-50 rounded-xl p-4 max-w-md w-full mb-6">
            <p className="text-xs uppercase tracking-wider text-neutral-400 mb-2">Sources</p>
            {data.sources.map((source, i) => (
              <a key={i} href={source.url} target="_blank" rel="noopener noreferrer" className="text-sm hover:underline block mb-1" style={{ color: 'var(--accent)' }}>{source.name}</a>
            ))}
          </motion.div>
        )}
        <motion.button initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }} onClick={() => window.location.href = '/dashboard'} className="px-6 py-3 rounded-xl text-white font-semibold" style={{ background: `linear-gradient(135deg, var(--accent), var(--accent-dark))` }}>Back to Dashboard</motion.button>
      </div>
    );

    const LessonApp = () => {
      const [currentSlide, setCurrentSlide] = useState(getInitialSlide());
      const [direction, setDirection] = useState(1);
      const userName = useMemo(() => getUserName(), []);
      const currentSlideRef = React.useRef(0);
      const [gifConfig, setGifConfig] = useState(null);
      const [isAnimating, setIsAnimating] = useState(false);

      const showGif = useCallback((url, height, side) => setGifConfig({ url, height, side }), []);
      const hideGif = useCallback(() => setGifConfig(null), []);

      React.useEffect(() => { currentSlideRef.current = currentSlide; }, [currentSlide]);

      useEffect(() => {
        window.parent.postMessage({
          type: 'LESSON_SLIDE_UPDATE',
          slideIndex: currentSlide,
          slideType: slides[currentSlide]?.type,
          lessonSlug: LESSON_CONFIG.id
        }, '*');
      }, [currentSlide]);

      const goToSlide = useCallback((newSlide) => {
        if (isAnimating || newSlide < 0 || newSlide >= slides.length) return;
        setIsAnimating(true);
        setDirection(newSlide > currentSlideRef.current ? 1 : -1);
        setCurrentSlide(newSlide);
      }, [isAnimating]);

      const nextSlide = useCallback(() => { if (currentSlideRef.current + 1 < slides.length) goToSlide(currentSlideRef.current + 1); }, [goToSlide]);
      const prevSlide = useCallback(() => { if (currentSlideRef.current - 1 >= 0) goToSlide(currentSlideRef.current - 1); }, [goToSlide]);

      useEffect(() => {
        const handleKeyDown = (e) => {
          if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
          if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
        };
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [nextSlide, prevSlide]);

      const slideVariants = {
        enter: (dir) => ({ x: dir > 0 ? '100%' : '-100%', opacity: 0 }),
        center: { x: 0, opacity: 1 },
        exit: (dir) => ({ x: dir > 0 ? '-100%' : '100%', opacity: 0 })
      };

      const renderSlide = (slide) => {
        switch (slide.type) {
          case 'welcome': return <WelcomeSlide data={slide} onStart={nextSlide} userName={userName} onShowGif={showGif} onHideGif={hideGif} />;
          case 'hook': return <HookSlide data={slide} />;
          case 'old-vs-new-google': return <OldVsNewGoogleSlide data={slide} />;
          case 'ai-overview-demo': return <AIOverviewDemoSlide data={slide} />;
          case 'commercial-intent-detection': return <CommercialIntentDetectionSlide data={slide} />;
          case 'pool-example-visualization': return <PoolExampleVisualizationSlide data={slide} />;
          case 'two-requirements': return <TwoRequirementsSlide data={slide} />;
          case 'targeting-paradigm-shift': return <TargetingParadigmShiftSlide data={slide} />;
          case 'elite-insight': return <EliteInsightSlide data={slide} />;
          case 'quiz': return <QuizSlide data={slide} onAnswer={() => {}} onShowGif={showGif} onHideGif={hideGif} />;
          case 'completion': return <CompletionSlide data={slide} />;
          default: return null;
        }
      };

      const showPrev = currentSlide > 0;
      const showNext = currentSlide < slides.length - 1 && slides[currentSlide].type !== 'welcome';

      return (
        <div className="w-full h-screen bg-white flex flex-col relative">
          <div className="flex-1 relative overflow-hidden z-20">
            <AnimatePresence mode="wait" custom={direction} onExitComplete={() => setIsAnimating(false)}>
              <motion.div key={currentSlide} custom={direction} variants={slideVariants} initial="enter" animate="center" exit="exit" transition={{ duration: 0.3, ease: [0.25, 0.1, 0.25, 1] }} className="absolute inset-0">
                {renderSlide(slides[currentSlide])}
                <AdminSlideReportButton slideIndex={currentSlide} slideType={slides[currentSlide].type} />
              </motion.div>
            </AnimatePresence>
            {showPrev && <button onClick={prevSlide} className="absolute left-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowLeft /></button>}
            {showNext && <button onClick={nextSlide} className="absolute right-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowRight /></button>}
          </div>
          <div className="px-6 md:px-8 py-5 border-t border-neutral-100 flex-shrink-0 relative z-10">
            <div className="flex items-center justify-center gap-2.5">
              {slides.map((_, i) => <button key={i} onClick={() => goToSlide(i)} className="w-2.5 h-2.5 rounded-full transition-all duration-300" style={{ background: i === currentSlide ? 'var(--accent)' : '#d4d4d4', transform: i === currentSlide ? 'scale(1.3)' : 'scale(1)' }} />)}
            </div>
          </div>
          <AnimatePresence>
            {gifConfig && (
              <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 30 }} transition={{ type: 'spring', stiffness: 100 }} className={`absolute ${gifConfig.side === 'left' ? 'left-4 md:left-8' : 'right-4 md:right-8'} bottom-0 pointer-events-none`} style={{ zIndex: 15, height: gifConfig.height }}>
                <video autoPlay loop muted playsInline className="h-full w-auto object-contain object-bottom" style={{ background: 'transparent', border: 'none', boxShadow: 'none' }}>
                  <source src={gifConfig.url} type="video/mp4" />
                </video>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<LessonApp />);
  </script>
</body>
</html>

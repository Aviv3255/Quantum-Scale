<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your 3 Unfair Advantages in the AI Era | Quantum Scale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.12.16/dist/framer-motion.js"></script>
    <script src="../shared/greetings.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { margin: 0; overflow: hidden; background: #000; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useRef } = React;
const { motion, AnimatePresence } = Motion;

// ============================================
// LESSON CONFIGURATION
// ============================================
const LESSON_CONFIG = {
    id: 'meta-ai-era-edge',
    title: 'Your 3 Unfair Advantages in the AI Era',
    description: 'Discover the human edges AI cannot replicate',
    accentColor: '#ec4899',
    accentColorLight: '#fce7f3',
    duration: '8 min',
    nextLesson: {
        id: 'meta-commander-collaborator',
        title: 'From Commander to Collaborator'
    }
};

// ============================================
// ICONS (SVG Components)
// ============================================
const Icons = {
    strategy: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 16v-4"/>
            <path d="M12 8h.01"/>
            <path d="M8 12l4-4 4 4"/>
        </svg>
    ),
    data: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
            <polyline points="7.5 4.21 12 6.81 16.5 4.21"/>
            <polyline points="7.5 19.79 7.5 14.6 3 12"/>
            <polyline points="21 12 16.5 14.6 16.5 19.79"/>
            <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
            <line x1="12" y1="22.08" x2="12" y2="12"/>
        </svg>
    ),
    brand: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
    ),
    shield: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            <path d="M9 12l2 2 4-4"/>
        </svg>
    ),
    target: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <circle cx="12" cy="12" r="10"/>
            <circle cx="12" cy="12" r="6"/>
            <circle cx="12" cy="12" r="2"/>
        </svg>
    ),
    robot: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <rect x="3" y="11" width="18" height="10" rx="2"/>
            <circle cx="12" cy="5" r="2"/>
            <path d="M12 7v4"/>
            <line x1="8" y1="16" x2="8" y2="16"/>
            <line x1="16" y1="16" x2="16" y2="16"/>
        </svg>
    ),
    human: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
        </svg>
    ),
    check: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <polyline points="20 6 9 17 4 12"/>
        </svg>
    ),
    x: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
    ),
    arrow: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <line x1="5" y1="12" x2="19" y2="12"/>
            <polyline points="12 5 19 12 12 19"/>
        </svg>
    ),
    lightbulb: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M9 18h6"/>
            <path d="M10 22h4"/>
            <path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"/>
        </svg>
    ),
    zap: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
        </svg>
    ),
    trophy: () => (
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="w-full h-full">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
            <path d="M4 22h16"/>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
        </svg>
    )
};

// ============================================
// SLIDES DATA
// ============================================
const slides = [
    {
        type: 'welcome',
        title: LESSON_CONFIG.title,
        subtitle: 'The Human Edges AI Cannot Replicate',
        duration: LESSON_CONFIG.duration
    },
    {
        type: 'hook',
        hookLine: 'AI can outperform any human at media buying.',
        followUp: 'So how do you compete in 2026?',
        reveal: 'You don\'t compete. You do what AI can\'t.'
    },
    {
        type: 'content',
        title: 'The New Reality',
        content: 'When everyone has access to the same AI tools, the algorithm stops being your competitive advantage.',
        highlight: 'Your edge comes from what you feed the machine—and what you build around it.',
        icon: 'robot'
    },
    {
        type: 'advantages',
        title: 'Your 3 Unfair Advantages',
        advantages: [
            {
                number: '01',
                title: 'Strategic Input',
                subtitle: 'Curriculum Design',
                icon: 'strategy',
                color: '#8b5cf6'
            },
            {
                number: '02',
                title: 'Data Quality',
                subtitle: 'Clean Signals',
                icon: 'data',
                color: '#06b6d4'
            },
            {
                number: '03',
                title: 'Brand & Trust',
                subtitle: 'Human Connection',
                icon: 'brand',
                color: '#ec4899'
            }
        ]
    },
    {
        type: 'advantage-deep',
        advantage: 1,
        title: 'Strategic Input',
        subtitle: 'Designing Thoughtful Curriculums',
        points: [
            'AI executes. You design the journey.',
            'Map the customer education path',
            'Decide WHAT GEM should optimize for',
            'Create meaningful sequences (not random ads)'
        ],
        metaphor: 'Think of it like a GPS: AI drives perfectly, but YOU choose the destination.',
        icon: 'strategy',
        color: '#8b5cf6'
    },
    {
        type: 'curriculum-visual',
        title: 'Curriculum vs Random',
        comparison: {
            random: {
                label: 'Random Approach',
                items: ['Ad #1: Buy now!', 'Ad #2: 50% off!', 'Ad #3: Last chance!', 'Ad #4: Buy now!'],
                result: 'AI optimizes for clicks. Gets clicks. No sales.'
            },
            strategic: {
                label: 'Strategic Curriculum',
                items: ['Week 1: Problem awareness', 'Week 2: Solution education', 'Week 3: Social proof', 'Week 4: Offer presentation'],
                result: 'AI optimizes each stage. Builds trust. Converts.'
            }
        }
    },
    {
        type: 'advantage-deep',
        advantage: 2,
        title: 'Data Quality',
        subtitle: 'Clean Signals, Proper CAPI',
        points: [
            'Garbage in = Garbage out (still true in AI era)',
            'CAPI implementation matters more than ever',
            'Server-side tracking for accuracy',
            'First-party data is your moat'
        ],
        metaphor: 'GEM is brilliant, but it can only work with what you give it. Clean data = smarter AI.',
        icon: 'data',
        color: '#06b6d4'
    },
    {
        type: 'data-visual',
        title: 'Data Quality Impact',
        scenarios: [
            {
                type: 'poor',
                label: 'Poor Data',
                signals: ['Pixel only (50% loss)', 'No value tracking', 'Duplicate events', 'Missing parameters'],
                result: 'GEM learns wrong patterns',
                performance: '30%'
            },
            {
                type: 'good',
                label: 'Clean Data',
                signals: ['CAPI + Pixel deduped', 'Accurate values', 'Full event data', 'Customer parameters'],
                result: 'GEM learns perfectly',
                performance: '100%'
            }
        ]
    },
    {
        type: 'advantage-deep',
        advantage: 3,
        title: 'Brand & Trust',
        subtitle: 'The Human Differentiator',
        points: [
            'AI can\'t build genuine relationships',
            'People buy from people they trust',
            'Your story, values, and voice are unique',
            'Brand becomes the ultimate moat'
        ],
        metaphor: 'When everyone\'s AI writes perfect copy, YOUR voice becomes the differentiator.',
        icon: 'brand',
        color: '#ec4899'
    },
    {
        type: 'comparison-matrix',
        title: 'AI-Proofed vs Vulnerable',
        headers: ['Factor', 'Vulnerable Business', 'AI-Proofed Business'],
        rows: [
            ['Strategy', 'Random campaigns', 'Thoughtful curriculum'],
            ['Data', 'Pixel-only tracking', 'Full CAPI + first-party'],
            ['Brand', 'Generic messaging', 'Unique voice & story'],
            ['Content', 'AI-generated only', 'Human creativity + AI'],
            ['Customer Relationship', 'Transactional', 'Trust-based']
        ]
    },
    {
        type: 'quiz',
        question: 'Which advantage is MOST important when everyone has access to the same AI tools?',
        options: [
            'Better targeting options',
            'Bigger ad budget',
            'Brand trust and human connection',
            'More automated rules'
        ],
        correctIndex: 2,
        explanation: 'When AI levels the playing field on tactics, brand trust becomes your ultimate differentiator. It\'s the one thing competitors can\'t copy.'
    },
    {
        type: 'action-framework',
        title: 'Your AI-Era Action Plan',
        steps: [
            {
                number: '1',
                title: 'Audit Your Data',
                action: 'Implement CAPI properly. Dedupe events. Track values.',
                icon: 'data'
            },
            {
                number: '2',
                title: 'Design Your Curriculum',
                action: 'Map the customer journey. Create intentional sequences.',
                icon: 'strategy'
            },
            {
                number: '3',
                title: 'Build Your Brand',
                action: 'Develop unique voice. Share your story. Build trust.',
                icon: 'brand'
            }
        ]
    },
    {
        type: 'insight',
        title: 'The Ultimate Edge',
        insight: 'In 2026, the winners won\'t be those with the best AI tools—everyone has those.',
        highlight: 'The winners will be those who give AI the best inputs and build what AI can\'t: human trust.',
        icon: 'trophy'
    },
    {
        type: 'completion',
        title: 'Lesson Complete!',
        summary: [
            'Strategic Input: Design the journey AI executes',
            'Data Quality: Clean signals = smarter AI',
            'Brand & Trust: Your irreplaceable human edge'
        ],
        nextLessonId: LESSON_CONFIG.nextLesson.id,
        nextLessonTitle: LESSON_CONFIG.nextLesson.title
    }
];

// ============================================
// CELEBRATION & EMPATHY GIFS
// ============================================
const celebrationGifs = [
    'https://media1.tenor.com/m/1VjHHcaOrrQAAAAC/great-job-yes.gif',
    'https://media1.tenor.com/m/uK0tLjpHLDcAAAAC/girl-kid.gif',
    'https://media1.tenor.com/m/aKS6MJHP60YAAAAC/nice-happy.gif',
    'https://media1.tenor.com/m/FNhN8wBBh1sAAAAC/winners-toby.gif',
];

const empathyGifs = [
    'https://media1.tenor.com/m/XNH4l5P7RXgAAAAC/not-quite-almost.gif',
    'https://media1.tenor.com/m/QVBVOOIyv2gAAAAC/a-for-effort.gif',
    'https://media1.tenor.com/m/pM_5-PEg_agAAAAC/good-try-nice-try.gif',
];

// ============================================
// SLIDE COMPONENTS
// ============================================
const WelcomeSlide = ({ data }) => {
    const greeting = typeof getGreeting === 'function' ? getGreeting() : 'Welcome';

    return (
        <div className="min-h-screen bg-black flex items-center justify-center p-8">
            <motion.div
                className="text-center max-w-3xl"
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                transition={{ duration: 0.8 }}
            >
                <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    transition={{ delay: 0.3, type: "spring", stiffness: 200 }}
                    className="w-20 h-20 mx-auto mb-8 rounded-2xl flex items-center justify-center"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor + '20' }}
                >
                    <div className="w-10 h-10" style={{ color: LESSON_CONFIG.accentColor }}>
                        <Icons.shield />
                    </div>
                </motion.div>

                <motion.p
                    className="text-gray-400 text-lg mb-4"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.5 }}
                >
                    {greeting}
                </motion.p>

                <motion.h1
                    className="text-5xl md:text-6xl font-bold text-white mb-6"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.7 }}
                >
                    {data.title}
                </motion.h1>

                <motion.p
                    className="text-xl text-gray-400 mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.9 }}
                >
                    {data.subtitle}
                </motion.p>

                <motion.div
                    className="flex items-center justify-center gap-2 text-gray-500"
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    transition={{ delay: 1.1 }}
                >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    <span>{data.duration}</span>
                </motion.div>
            </motion.div>
        </div>
    );
};

const HookSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="text-center max-w-4xl">
            <motion.p
                className="text-3xl md:text-4xl text-gray-400 mb-8"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6 }}
            >
                {data.hookLine}
            </motion.p>

            <motion.p
                className="text-2xl text-gray-500 mb-12"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.8, duration: 0.6 }}
            >
                {data.followUp}
            </motion.p>

            <motion.div
                className="text-4xl md:text-5xl font-bold"
                style={{ color: LESSON_CONFIG.accentColor }}
                initial={{ opacity: 0, scale: 0.9 }}
                animate={{ opacity: 1, scale: 1 }}
                transition={{ delay: 1.5, duration: 0.5 }}
            >
                {data.reveal}
            </motion.div>
        </div>
    </div>
);

const ContentSlide = ({ data }) => {
    const IconComponent = Icons[data.icon];

    return (
        <div className="min-h-screen bg-black flex items-center justify-center p-8">
            <div className="max-w-4xl w-full">
                <motion.div
                    className="text-center mb-12"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                >
                    {IconComponent && (
                        <div className="w-16 h-16 mx-auto mb-6 text-gray-600">
                            <IconComponent />
                        </div>
                    )}
                    <h2 className="text-4xl font-bold text-white mb-6">{data.title}</h2>
                </motion.div>

                <motion.p
                    className="text-2xl text-gray-400 text-center mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.3 }}
                >
                    {data.content}
                </motion.p>

                <motion.div
                    className="p-6 rounded-2xl text-center"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor + '15' }}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.6 }}
                >
                    <p className="text-xl font-medium" style={{ color: LESSON_CONFIG.accentColor }}>
                        {data.highlight}
                    </p>
                </motion.div>
            </div>
        </div>
    );
};

const AdvantagesSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-5xl w-full">
            <motion.h2
                className="text-4xl font-bold text-white text-center mb-16"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
            >
                {data.title}
            </motion.h2>

            <div className="grid md:grid-cols-3 gap-8">
                {data.advantages.map((adv, index) => {
                    const IconComponent = Icons[adv.icon];
                    return (
                        <motion.div
                            key={index}
                            className="bg-gray-900/50 rounded-2xl p-8 border border-gray-800 hover:border-gray-700 transition-colors"
                            initial={{ opacity: 0, y: 30 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 0.3 + index * 0.2 }}
                        >
                            <div
                                className="w-14 h-14 rounded-xl flex items-center justify-center mb-6"
                                style={{ backgroundColor: adv.color + '20' }}
                            >
                                <div className="w-7 h-7" style={{ color: adv.color }}>
                                    {IconComponent && <IconComponent />}
                                </div>
                            </div>

                            <div className="text-gray-600 font-mono text-sm mb-2">{adv.number}</div>
                            <h3 className="text-2xl font-bold text-white mb-2">{adv.title}</h3>
                            <p className="text-gray-400">{adv.subtitle}</p>
                        </motion.div>
                    );
                })}
            </div>
        </div>
    </div>
);

const AdvantageDeepSlide = ({ data }) => {
    const IconComponent = Icons[data.icon];

    return (
        <div className="min-h-screen bg-black flex items-center justify-center p-8">
            <div className="max-w-4xl w-full">
                <motion.div
                    className="flex items-center gap-4 mb-8"
                    initial={{ opacity: 0, x: -20 }}
                    animate={{ opacity: 1, x: 0 }}
                >
                    <div
                        className="w-14 h-14 rounded-xl flex items-center justify-center"
                        style={{ backgroundColor: data.color + '20' }}
                    >
                        <div className="w-7 h-7" style={{ color: data.color }}>
                            {IconComponent && <IconComponent />}
                        </div>
                    </div>
                    <div>
                        <div className="text-gray-500 text-sm">Advantage #{data.advantage}</div>
                        <h2 className="text-3xl font-bold text-white">{data.title}</h2>
                    </div>
                </motion.div>

                <motion.p
                    className="text-xl text-gray-400 mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.2 }}
                >
                    {data.subtitle}
                </motion.p>

                <div className="space-y-4 mb-8">
                    {data.points.map((point, index) => (
                        <motion.div
                            key={index}
                            className="flex items-start gap-3 p-4 bg-gray-900/50 rounded-xl"
                            initial={{ opacity: 0, x: -20 }}
                            animate={{ opacity: 1, x: 0 }}
                            transition={{ delay: 0.4 + index * 0.1 }}
                        >
                            <div className="w-5 h-5 mt-0.5" style={{ color: data.color }}>
                                <Icons.check />
                            </div>
                            <p className="text-gray-300">{point}</p>
                        </motion.div>
                    ))}
                </div>

                <motion.div
                    className="p-6 rounded-2xl border"
                    style={{
                        backgroundColor: data.color + '10',
                        borderColor: data.color + '30'
                    }}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.8 }}
                >
                    <div className="flex items-center gap-2 mb-2">
                        <div className="w-5 h-5" style={{ color: data.color }}>
                            <Icons.lightbulb />
                        </div>
                        <span className="font-medium" style={{ color: data.color }}>Key Insight</span>
                    </div>
                    <p className="text-gray-300">{data.metaphor}</p>
                </motion.div>
            </div>
        </div>
    );
};

const CurriculumVisualSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-5xl w-full">
            <motion.h2
                className="text-4xl font-bold text-white text-center mb-12"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
            >
                {data.title}
            </motion.h2>

            <div className="grid md:grid-cols-2 gap-8">
                {/* Random Approach */}
                <motion.div
                    className="bg-gray-900/50 rounded-2xl p-6 border border-red-500/30"
                    initial={{ opacity: 0, x: -30 }}
                    animate={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.3 }}
                >
                    <div className="flex items-center gap-2 mb-6">
                        <div className="w-6 h-6 text-red-500">
                            <Icons.x />
                        </div>
                        <span className="text-xl font-bold text-red-400">{data.comparison.random.label}</span>
                    </div>

                    <div className="space-y-3 mb-6">
                        {data.comparison.random.items.map((item, i) => (
                            <div key={i} className="p-3 bg-red-500/10 rounded-lg text-gray-400 text-sm">
                                {item}
                            </div>
                        ))}
                    </div>

                    <div className="p-4 bg-red-500/10 rounded-xl border border-red-500/20">
                        <p className="text-red-400 text-sm">{data.comparison.random.result}</p>
                    </div>
                </motion.div>

                {/* Strategic Approach */}
                <motion.div
                    className="bg-gray-900/50 rounded-2xl p-6 border border-green-500/30"
                    initial={{ opacity: 0, x: 30 }}
                    animate={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.5 }}
                >
                    <div className="flex items-center gap-2 mb-6">
                        <div className="w-6 h-6 text-green-500">
                            <Icons.check />
                        </div>
                        <span className="text-xl font-bold text-green-400">{data.comparison.strategic.label}</span>
                    </div>

                    <div className="space-y-3 mb-6">
                        {data.comparison.strategic.items.map((item, i) => (
                            <div key={i} className="p-3 bg-green-500/10 rounded-lg text-gray-300 text-sm flex items-center gap-2">
                                <span className="text-green-500 font-bold">{i + 1}.</span>
                                {item}
                            </div>
                        ))}
                    </div>

                    <div className="p-4 bg-green-500/10 rounded-xl border border-green-500/20">
                        <p className="text-green-400 text-sm">{data.comparison.strategic.result}</p>
                    </div>
                </motion.div>
            </div>
        </div>
    </div>
);

const DataVisualSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-5xl w-full">
            <motion.h2
                className="text-4xl font-bold text-white text-center mb-12"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
            >
                {data.title}
            </motion.h2>

            <div className="grid md:grid-cols-2 gap-8">
                {data.scenarios.map((scenario, index) => (
                    <motion.div
                        key={index}
                        className={`rounded-2xl p-6 border ${
                            scenario.type === 'poor'
                                ? 'bg-red-500/5 border-red-500/30'
                                : 'bg-green-500/5 border-green-500/30'
                        }`}
                        initial={{ opacity: 0, y: 30 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: 0.3 + index * 0.2 }}
                    >
                        <h3 className={`text-2xl font-bold mb-6 ${
                            scenario.type === 'poor' ? 'text-red-400' : 'text-green-400'
                        }`}>
                            {scenario.label}
                        </h3>

                        <div className="space-y-2 mb-6">
                            {scenario.signals.map((signal, i) => (
                                <div key={i} className="flex items-center gap-2 text-gray-400 text-sm">
                                    <div className={`w-4 h-4 ${
                                        scenario.type === 'poor' ? 'text-red-500' : 'text-green-500'
                                    }`}>
                                        {scenario.type === 'poor' ? <Icons.x /> : <Icons.check />}
                                    </div>
                                    {signal}
                                </div>
                            ))}
                        </div>

                        <div className={`p-4 rounded-xl mb-4 ${
                            scenario.type === 'poor' ? 'bg-red-500/10' : 'bg-green-500/10'
                        }`}>
                            <p className={`text-sm ${
                                scenario.type === 'poor' ? 'text-red-400' : 'text-green-400'
                            }`}>
                                {scenario.result}
                            </p>
                        </div>

                        {/* Performance meter */}
                        <div className="mt-4">
                            <div className="flex justify-between text-xs text-gray-500 mb-2">
                                <span>GEM Performance</span>
                                <span>{scenario.performance}</span>
                            </div>
                            <div className="h-2 bg-gray-800 rounded-full overflow-hidden">
                                <motion.div
                                    className={`h-full rounded-full ${
                                        scenario.type === 'poor' ? 'bg-red-500' : 'bg-green-500'
                                    }`}
                                    initial={{ width: 0 }}
                                    animate={{ width: scenario.performance }}
                                    transition={{ delay: 0.8, duration: 1 }}
                                />
                            </div>
                        </div>
                    </motion.div>
                ))}
            </div>
        </div>
    </div>
);

const ComparisonMatrixSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-5xl w-full">
            <motion.h2
                className="text-4xl font-bold text-white text-center mb-12"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
            >
                {data.title}
            </motion.h2>

            <motion.div
                className="bg-gray-900/50 rounded-2xl overflow-hidden border border-gray-800"
                initial={{ opacity: 0, y: 30 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.3 }}
            >
                {/* Header */}
                <div className="grid grid-cols-3 bg-gray-800/50">
                    {data.headers.map((header, i) => (
                        <div key={i} className={`p-4 font-semibold text-center ${
                            i === 0 ? 'text-gray-400' : i === 1 ? 'text-red-400' : 'text-green-400'
                        }`}>
                            {header}
                        </div>
                    ))}
                </div>

                {/* Rows */}
                {data.rows.map((row, rowIndex) => (
                    <motion.div
                        key={rowIndex}
                        className="grid grid-cols-3 border-t border-gray-800"
                        initial={{ opacity: 0, x: -20 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ delay: 0.5 + rowIndex * 0.1 }}
                    >
                        <div className="p-4 text-gray-300 font-medium">{row[0]}</div>
                        <div className="p-4 text-red-400/70 text-center text-sm">{row[1]}</div>
                        <div className="p-4 text-green-400/70 text-center text-sm">{row[2]}</div>
                    </motion.div>
                ))}
            </motion.div>
        </div>
    </div>
);

const QuizSlide = ({ data, onAnswer }) => {
    const [selected, setSelected] = useState(null);
    const [showResult, setShowResult] = useState(false);
    const [gifUrl, setGifUrl] = useState('');

    const handleSelect = (index) => {
        if (showResult) return;
        setSelected(index);
        setShowResult(true);
        const isCorrect = index === data.correctIndex;
        const gifs = isCorrect ? celebrationGifs : empathyGifs;
        setGifUrl(gifs[Math.floor(Math.random() * gifs.length)]);
        setTimeout(() => onAnswer?.(isCorrect), 2000);
    };

    return (
        <div className="min-h-screen bg-black flex items-center justify-center p-8">
            <div className="max-w-3xl w-full">
                <motion.div
                    className="text-center mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                >
                    <span
                        className="inline-block px-4 py-1 rounded-full text-sm font-medium mb-6"
                        style={{ backgroundColor: LESSON_CONFIG.accentColor + '20', color: LESSON_CONFIG.accentColor }}
                    >
                        Quick Check
                    </span>
                    <h2 className="text-3xl font-bold text-white">{data.question}</h2>
                </motion.div>

                <div className="space-y-4 mb-8">
                    {data.options.map((option, index) => (
                        <motion.button
                            key={index}
                            onClick={() => handleSelect(index)}
                            className={`w-full p-5 rounded-xl text-left transition-all ${
                                showResult
                                    ? index === data.correctIndex
                                        ? 'bg-green-500/20 border-2 border-green-500'
                                        : index === selected
                                        ? 'bg-red-500/20 border-2 border-red-500'
                                        : 'bg-gray-800/50 border-2 border-gray-700 opacity-50'
                                    : 'bg-gray-800/50 border-2 border-gray-700 hover:border-gray-500'
                            }`}
                            disabled={showResult}
                            initial={{ opacity: 0, x: -20 }}
                            animate={{ opacity: 1, x: 0 }}
                            transition={{ delay: 0.3 + index * 0.1 }}
                        >
                            <span className="text-white">{option}</span>
                        </motion.button>
                    ))}
                </div>

                <AnimatePresence>
                    {showResult && (
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            className="text-center"
                        >
                            <img
                                src={gifUrl}
                                alt="Result"
                                className="w-48 h-48 object-cover rounded-2xl mx-auto mb-4"
                            />
                            <p className={`text-lg font-medium mb-2 ${
                                selected === data.correctIndex ? 'text-green-400' : 'text-red-400'
                            }`}>
                                {selected === data.correctIndex ? 'Correct!' : 'Not quite!'}
                            </p>
                            <p className="text-gray-400">{data.explanation}</p>
                        </motion.div>
                    )}
                </AnimatePresence>
            </div>
        </div>
    );
};

const ActionFrameworkSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-4xl w-full">
            <motion.h2
                className="text-4xl font-bold text-white text-center mb-12"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
            >
                {data.title}
            </motion.h2>

            <div className="space-y-6">
                {data.steps.map((step, index) => {
                    const IconComponent = Icons[step.icon];
                    return (
                        <motion.div
                            key={index}
                            className="flex items-start gap-6 p-6 bg-gray-900/50 rounded-2xl border border-gray-800"
                            initial={{ opacity: 0, x: -30 }}
                            animate={{ opacity: 1, x: 0 }}
                            transition={{ delay: 0.3 + index * 0.2 }}
                        >
                            <div
                                className="w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0"
                                style={{ backgroundColor: LESSON_CONFIG.accentColor + '20' }}
                            >
                                <span className="text-2xl font-bold" style={{ color: LESSON_CONFIG.accentColor }}>
                                    {step.number}
                                </span>
                            </div>

                            <div className="flex-1">
                                <div className="flex items-center gap-2 mb-2">
                                    {IconComponent && (
                                        <div className="w-5 h-5 text-gray-500">
                                            <IconComponent />
                                        </div>
                                    )}
                                    <h3 className="text-xl font-bold text-white">{step.title}</h3>
                                </div>
                                <p className="text-gray-400">{step.action}</p>
                            </div>
                        </motion.div>
                    );
                })}
            </div>
        </div>
    </div>
);

const InsightSlide = ({ data }) => {
    const IconComponent = Icons[data.icon];

    return (
        <div className="min-h-screen bg-black flex items-center justify-center p-8">
            <div className="max-w-3xl w-full text-center">
                <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    transition={{ type: "spring", stiffness: 200 }}
                    className="w-24 h-24 mx-auto mb-8 rounded-2xl flex items-center justify-center"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor + '20' }}
                >
                    <div className="w-12 h-12" style={{ color: LESSON_CONFIG.accentColor }}>
                        {IconComponent && <IconComponent />}
                    </div>
                </motion.div>

                <motion.h2
                    className="text-3xl font-bold text-white mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.3 }}
                >
                    {data.title}
                </motion.h2>

                <motion.p
                    className="text-2xl text-gray-400 mb-8"
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.5 }}
                >
                    {data.insight}
                </motion.p>

                <motion.div
                    className="p-8 rounded-2xl"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor + '15' }}
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: 0.7 }}
                >
                    <p className="text-xl font-medium" style={{ color: LESSON_CONFIG.accentColor }}>
                        {data.highlight}
                    </p>
                </motion.div>
            </div>
        </div>
    );
};

const CompletionSlide = ({ data }) => (
    <div className="min-h-screen bg-black flex items-center justify-center p-8">
        <div className="max-w-2xl w-full text-center">
            <motion.div
                initial={{ scale: 0 }}
                animate={{ scale: 1 }}
                transition={{ type: "spring", stiffness: 200 }}
                className="w-24 h-24 mx-auto mb-8 rounded-full flex items-center justify-center"
                style={{ backgroundColor: LESSON_CONFIG.accentColor + '20' }}
            >
                <div className="w-12 h-12" style={{ color: LESSON_CONFIG.accentColor }}>
                    <Icons.trophy />
                </div>
            </motion.div>

            <motion.h2
                className="text-4xl font-bold text-white mb-8"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.3 }}
            >
                {data.title}
            </motion.h2>

            <motion.div
                className="bg-gray-900/50 rounded-2xl p-8 mb-8"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.5 }}
            >
                <h3 className="text-lg font-medium text-gray-400 mb-4">Key Takeaways</h3>
                <div className="space-y-3">
                    {data.summary.map((item, index) => (
                        <div key={index} className="flex items-start gap-3 text-left">
                            <div className="w-5 h-5 mt-0.5" style={{ color: LESSON_CONFIG.accentColor }}>
                                <Icons.check />
                            </div>
                            <span className="text-gray-300">{item}</span>
                        </div>
                    ))}
                </div>
            </motion.div>

            <motion.a
                href={`../${data.nextLessonId}/lesson.html`}
                className="inline-flex items-center gap-2 px-8 py-4 rounded-xl font-medium text-white transition-transform hover:scale-105"
                style={{ backgroundColor: LESSON_CONFIG.accentColor }}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.7 }}
            >
                Next: {data.nextLessonTitle}
                <div className="w-5 h-5">
                    <Icons.arrow />
                </div>
            </motion.a>
        </div>
    </div>
);

// ============================================
// MAIN APP COMPONENT
// ============================================
const LessonApp = () => {
    const [currentSlide, setCurrentSlide] = useState(0);
    const [direction, setDirection] = useState(1);

    const goToSlide = (index, dir = 1) => {
        if (index >= 0 && index < slides.length) {
            setDirection(dir);
            setCurrentSlide(index);
        }
    };

    const nextSlide = () => goToSlide(currentSlide + 1, 1);
    const prevSlide = () => goToSlide(currentSlide - 1, -1);

    // Keyboard navigation
    useEffect(() => {
        const handleKeyDown = (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevSlide();
            }
        };

        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
    }, [currentSlide]);

    const renderSlide = (slide) => {
        switch (slide.type) {
            case 'welcome':
                return <WelcomeSlide data={slide} />;
            case 'hook':
                return <HookSlide data={slide} />;
            case 'content':
                return <ContentSlide data={slide} />;
            case 'advantages':
                return <AdvantagesSlide data={slide} />;
            case 'advantage-deep':
                return <AdvantageDeepSlide data={slide} />;
            case 'curriculum-visual':
                return <CurriculumVisualSlide data={slide} />;
            case 'data-visual':
                return <DataVisualSlide data={slide} />;
            case 'comparison-matrix':
                return <ComparisonMatrixSlide data={slide} />;
            case 'quiz':
                return <QuizSlide data={slide} onAnswer={() => setTimeout(nextSlide, 1000)} />;
            case 'action-framework':
                return <ActionFrameworkSlide data={slide} />;
            case 'insight':
                return <InsightSlide data={slide} />;
            case 'completion':
                return <CompletionSlide data={slide} />;
            default:
                return <div className="text-white">Unknown slide type: {slide.type}</div>;
        }
    };

    return (
        <div className="relative w-full h-screen overflow-hidden bg-black">
            {/* Progress bar */}
            <div className="absolute top-0 left-0 right-0 h-1 bg-gray-800 z-50">
                <motion.div
                    className="h-full"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor }}
                    initial={{ width: 0 }}
                    animate={{ width: `${((currentSlide + 1) / slides.length) * 100}%` }}
                    transition={{ duration: 0.3 }}
                />
            </div>

            {/* Back button */}
            <a
                href="/lessons"
                className="absolute top-6 left-6 z-50 flex items-center gap-2 text-gray-400 hover:text-white transition-colors"
            >
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
                </svg>
                <span className="text-sm font-medium">Back</span>
            </a>

            {/* Slide counter */}
            <div className="absolute top-6 right-6 z-50 text-gray-500 text-sm font-medium">
                {currentSlide + 1} / {slides.length}
            </div>

            {/* Slides */}
            <AnimatePresence mode="wait">
                <motion.div
                    key={currentSlide}
                    initial={{ opacity: 0, x: direction * 100 }}
                    animate={{ opacity: 1, x: 0 }}
                    exit={{ opacity: 0, x: direction * -100 }}
                    transition={{ duration: 0.4, ease: [0.4, 0, 0.2, 1] }}
                    className="w-full h-full"
                >
                    {renderSlide(slides[currentSlide])}
                </motion.div>
            </AnimatePresence>

            {/* Navigation */}
            <div className="absolute bottom-8 left-0 right-0 flex justify-center items-center gap-4 z-50">
                <button
                    onClick={prevSlide}
                    disabled={currentSlide === 0}
                    className="w-12 h-12 rounded-full bg-gray-800 flex items-center justify-center text-white disabled:opacity-30 disabled:cursor-not-allowed hover:bg-gray-700 transition-colors"
                >
                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
                    </svg>
                </button>

                <button
                    onClick={nextSlide}
                    disabled={currentSlide === slides.length - 1}
                    className="w-12 h-12 rounded-full flex items-center justify-center text-white disabled:opacity-30 disabled:cursor-not-allowed hover:opacity-90 transition-opacity"
                    style={{ backgroundColor: LESSON_CONFIG.accentColor }}
                >
                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>

            {/* Keyboard hint */}
            <div className="absolute bottom-8 right-8 text-gray-600 text-xs hidden md:block">
                Use ← → keys to navigate
            </div>
        </div>
    );
};

// Render the app
ReactDOM.createRoot(document.getElementById('root')).render(<LessonApp />);
</script>
</body>
</html>

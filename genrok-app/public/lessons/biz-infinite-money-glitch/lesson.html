<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Infinite Money Glitch | Quantum Scale</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
  <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js" defer></script>
  <script src="../shared/greetings.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #22C55E; --accent-dark: #16A34A; --accent-light: #4ADE80; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: transparent; -webkit-font-smoothing: antialiased; }
    .title-font { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    h1, h2, h3, .slide-title { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    ::selection { background: var(--accent); color: white; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { motion, AnimatePresence } = window.Motion;
    const { useState, useEffect, useCallback } = React;

    const getUserName = () => { const params = new URLSearchParams(window.location.search); return params.get('userName') || 'Builder'; };

    const LESSON_CONFIG = {
      id: 'biz-infinite-money-glitch',
      title: 'The Infinite Money Glitch',
      description: 'The self-fueling growth engine that scales forever',
      accentColor: '#22C55E',
      duration: '5 min',
      nextLesson: { id: 'biz-price-anchoring', title: 'Price Anchoring Power', teaser: 'Why premium offers multiply everything.' }
    };

    const celebrationGifs = ['https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_jumping_in_the_air_arms_raised_high_YESSS_cele_201477e8-3df4-405a-bc81-81d1747e5c6c_2.mp4'];
    const getRandomCelebrationGif = () => celebrationGifs[0];
    const empathyGifs = ['https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_thumbs_down_with_encouraging_nod_close_keep_go_613e541f-c072-436f-aee7-f99cd6f834fc_2.mp4'];
    const getRandomEmpathyGif = () => empathyGifs[0];

    const slides = [
      { type: 'welcome', learningGoals: ['The flywheel that funds itself', 'Why LTV > CAC unlocks infinite scaling', 'Building your money printing machine'] },
      { type: 'hook', headline: 'What if every customer you acquired funded the acquisition of two more?', subtext: 'That is not a fantasy. It is a flywheel. When your LTV significantly exceeds your CAC, something magical happens: your business becomes self-fueling. Each customer generates enough profit to acquire the next one. And the next. And the next. No external funding needed. No bootstrapping grind. Just a machine that prints money as long as you keep feeding it customers.' },
      { type: 'flywheel-visual', title: 'The Infinite Money Flywheel', steps: [
        { label: 'Acquire Customer', description: 'Spend $50 to acquire', color: '#3B82F6' },
        { label: 'Generate LTV', description: 'Customer worth $200', color: '#22C55E' },
        { label: 'Pocket Profit', description: '$150 gross profit', color: '#F59E0B' },
        { label: 'Reinvest', description: 'Acquire 3 more customers', color: '#8B5CF6' }
      ]},
      { type: 'content', title: 'How The Glitch Works', body: 'The math is simple but powerful. If your LTV is $200 and your CAC is $50, every customer generates $150 in profit. Reinvest that $150 and you acquire 3 more customers. Each of those generates $150, giving you $450 to acquire 9 more. The flywheel spins faster and faster. As long as LTV stays above CAC, the machine never stops. This is how small stores become empires without raising a dime.' },
      { type: 'math-visual', title: 'The Compounding Effect', generations: [
        { round: 'Round 1', customers: 1, spend: '$50', profit: '$150', reinvest: '3 new customers' },
        { round: 'Round 2', customers: 3, spend: '$150', profit: '$450', reinvest: '9 new customers' },
        { round: 'Round 3', customers: 9, spend: '$450', profit: '$1,350', reinvest: '27 new customers' },
        { round: 'Round 4', customers: 27, spend: '$1,350', profit: '$4,050', reinvest: '81 new customers' }
      ]},
      { type: 'stat-countdown', title: 'The Flywheel Numbers', stats: [
        { value: 4, suffix: 'x', label: 'LTV:CAC Needed', subtext: 'For optimal flywheel speed' },
        { value: 3, suffix: 'x', label: 'Customer Growth', subtext: 'Per reinvestment round' },
        { value: 0, suffix: '', label: 'External Funding', subtext: 'Needed when flywheel spins' }
      ]},
      { type: 'content', title: 'The Two Requirements', body: 'For the infinite money glitch to work, you need two things. First, your LTV must significantly exceed CAC - at least 3:1, ideally 4:1 or higher. Second, you need reinvestment discipline. The temptation is to pocket profits. But every dollar you take out is three customers you do not acquire. The founders who build empires are the ones who keep feeding the flywheel until it is unstoppable.' },
      { type: 'requirements-visual', title: 'Glitch Requirements', requirements: [
        { number: 1, title: 'LTV > 3x CAC', description: 'Each customer must generate enough profit to fund 3+ new acquisitions. Below 3:1, the flywheel stalls.', color: '#22C55E', icon: 'DollarSign' },
        { number: 2, title: 'Reinvestment Discipline', description: 'Take minimal profits early. Let the flywheel compound. Scale first, extract later.', color: '#3B82F6', icon: 'RefreshCcw' }
      ]},
      { type: 'before-after', title: 'Without vs With The Glitch', before: ['Bootstrap grinding for years', 'Slow linear growth', 'Cash constrained', 'Fighting for every customer', 'Stagnation risk'], after: ['Self-fueling from day one', 'Exponential compounding growth', 'Cash generative machine', 'Customers fund more customers', 'Unstoppable momentum'] },
      { type: 'tool-integration', title: 'Calculate Your Flywheel Speed', subtitle: 'See if your business can activate the glitch', tool: { name: 'DataDrew', description: 'Free Shopify app that shows your real LTV by customer segment', image: 'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/46.webp', link: 'https://apps.shopify.com/customer-lifetime-value?mref=lsbqcbva', features: ['Calculate true LTV', 'See LTV:CAC ratio', 'Find your best segments', '100% free forever'] } },
      { type: 'highlight-box', title: 'The Glitch Mindset', body: 'The infinite money glitch is not about finding a cheat code. It is about building a machine with fundamentals so strong that growth becomes automatic. Get LTV high through retention, upsells, and loyalty. Get CAC low through efficient channels and strong creative. Then reinvest relentlessly. The founders who understand this build businesses that grow while they sleep.', highlight: 'Build fundamentals so strong that growth becomes automatic. Then reinvest relentlessly.' },
      { type: 'quiz', question: 'What makes the infinite money glitch work?', options: ['External funding and investors', 'LTV significantly exceeding CAC with reinvestment', 'Lowering prices to increase volume', 'Cutting all marketing spend'], correctIndex: 1, feedback: { correct: 'Exactly. The glitch works when LTV significantly exceeds CAC (at least 3:1) and you reinvest profits into acquiring more customers. Each customer funds the next batch, creating a self-fueling flywheel that compounds forever.', incorrect: 'Not quite. The infinite money glitch works when your LTV significantly exceeds your CAC (3:1 or higher) and you reinvest profits to acquire more customers. Each customer funds the next ones, creating a self-fueling growth machine.' }},
      { type: 'completion', sources: [] }
    ];

    const Icons = {
      Clock: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      Check: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
      X: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      ArrowLeft: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
      ArrowRight: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
      Zap: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
      ExternalLink: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
      DollarSign: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
      RefreshCcw: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>,
      TrendingUp: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>,
      Infinity: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2"><path d="M18.178 8c5.096 0 5.096 8 0 8-5.095 0-7.133-8-12.739-8-4.585 0-4.585 8 0 8 5.606 0 7.644-8 12.74-8z"/></svg>,
    };

    const AnimatedCounter = ({ target, suffix = '', duration = 2000 }) => {
      const [count, setCount] = useState(0);
      useEffect(() => {
        let start = 0;
        const increment = target / (duration / 16);
        const timer = setInterval(() => { start += increment; if (start >= target) { setCount(target); clearInterval(timer); } else { setCount(Math.floor(start)); } }, 16);
        return () => clearInterval(timer);
      }, [target, duration]);
      return <span>{count}{suffix}</span>;
    };

    // Flywheel Visual
    const FlywheelVisualSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(34, 197, 94, 0.1)', color: '#22C55E' }}>
            <Icons.Infinity size={14} color="#22C55E" />
            <span>The Flywheel</span>
          </div>
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.2 }} className="rounded-2xl p-8" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            {data.steps.map((step, i) => (
              <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 + i * 0.15 }} className="text-center">
                <div className="w-16 h-16 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl font-bold text-white" style={{ background: `${step.color}30`, border: `2px solid ${step.color}` }}>
                  {i + 1}
                </div>
                <div className="text-sm font-bold text-white mb-1">{step.label}</div>
                <div className="text-xs text-neutral-400">{step.description}</div>
                {i < data.steps.length - 1 && (
                  <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.5 + i * 0.15 }} className="text-green-400 mt-3 hidden md:block">→</motion.div>
                )}
              </motion.div>
            ))}
          </div>
          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 1 }} className="mt-6 text-center">
            <div className="inline-flex items-center gap-2 text-green-400 text-sm">
              <Icons.RefreshCcw size={16} color="#22C55E" />
              <span>Repeat forever</span>
            </div>
          </motion.div>
        </motion.div>
      </div>
    );

    // Math Visual
    const MathVisualSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(34, 197, 94, 0.1)', color: '#22C55E' }}>
            <Icons.TrendingUp size={14} color="#22C55E" />
            <span>Watch It Compound</span>
          </div>
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <div className="space-y-3">
          {data.generations.map((gen, i) => (
            <motion.div key={i} initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 + i * 0.15 }} className="rounded-xl p-4" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
              <div className="grid grid-cols-5 gap-4 items-center text-center text-sm">
                <div className="font-bold text-green-400">{gen.round}</div>
                <div><span className="text-neutral-400 text-xs block">Customers</span><span className="text-white font-bold">{gen.customers}</span></div>
                <div><span className="text-neutral-400 text-xs block">Spend</span><span className="text-white">{gen.spend}</span></div>
                <div><span className="text-neutral-400 text-xs block">Profit</span><span className="text-green-400 font-bold">{gen.profit}</span></div>
                <div><span className="text-neutral-400 text-xs block">→</span><span className="text-blue-400">{gen.reinvest}</span></div>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    );

    // Requirements Visual
    const RequirementsVisualSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <div className="space-y-4">
          {data.requirements.map((req, i) => {
            const IconComponent = req.icon === 'DollarSign' ? Icons.DollarSign : Icons.RefreshCcw;
            return (
              <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 + i * 0.15 }} className="rounded-xl p-6" style={{ background: '#0a0a0a', border: `1px solid ${req.color}30` }}>
                <div className="flex items-start gap-4">
                  <div className="w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0" style={{ background: `${req.color}20` }}>
                    <IconComponent size={28} color={req.color} />
                  </div>
                  <div>
                    <h3 className="text-white font-bold text-lg mb-1" style={{ color: req.color }}>{req.title}</h3>
                    <p className="text-neutral-400 text-sm leading-relaxed">{req.description}</p>
                  </div>
                </div>
              </motion.div>
            );
          })}
        </div>
      </div>
    );

    // Tool Integration
    const ToolIntegrationSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(34, 197, 94, 0.1)', color: '#22C55E' }}>
            <Icons.Zap />
            <span>Recommended Tool</span>
          </div>
          <h2 className="slide-title text-2xl md:text-3xl text-black mb-2">{data.title}</h2>
          <p className="text-neutral-500 text-sm">{data.subtitle}</p>
        </motion.div>

        <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.2 }} className="rounded-2xl p-6 md:p-8" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
          <div className="flex flex-col md:flex-row gap-6 items-center">
            <div className="w-full md:w-2/5">
              <img src={data.tool.image} alt={data.tool.name} className="w-full rounded-xl" style={{ border: '1px solid #333' }} />
            </div>
            <div className="w-full md:w-3/5">
              <h3 className="text-2xl font-bold text-white mb-2">{data.tool.name}</h3>
              <p className="text-neutral-400 text-sm mb-4">{data.tool.description}</p>
              <div className="space-y-2 mb-6">
                {data.tool.features.map((f, i) => (
                  <motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 + i * 0.1 }} className="flex items-center gap-2 text-sm">
                    <span className="text-green-500"><Icons.Check /></span>
                    <span className="text-neutral-300">{f}</span>
                  </motion.div>
                ))}
              </div>
              <a href={data.tool.link} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-2 px-5 py-3 rounded-xl font-semibold text-white text-sm transition-all hover:scale-105" style={{ background: 'linear-gradient(135deg, #22C55E, #16A34A)' }}>Get {data.tool.name} Free<Icons.ExternalLink /></a>
            </div>
          </div>
        </motion.div>
      </div>
    );

    // Stat Countdown
    const StatCountdownSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-10"><h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2></motion.div>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          {data.stats.map((stat, i) => (
            <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 + i * 0.15 }} className="rounded-2xl p-6 text-center" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
              <div className="text-5xl md:text-6xl font-bold mb-2" style={{ color: '#22C55E' }}><AnimatedCounter target={stat.value} suffix={stat.suffix} duration={2000} /></div>
              <div className="text-white font-medium mb-1">{stat.label}</div>
              <div className="text-neutral-500 text-sm">{stat.subtext}</div>
            </motion.div>
          ))}
        </div>
      </div>
    );

    // Before/After
    const BeforeAfterSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8"><h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2></motion.div>
        <div className="grid md:grid-cols-2 gap-6">
          <motion.div initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(107, 114, 128, 0.3)' }}>
            <div className="flex items-center gap-2 mb-4"><div className="w-8 h-8 rounded-full flex items-center justify-center" style={{ background: 'rgba(107, 114, 128, 0.2)' }}><Icons.X /></div><span className="text-neutral-400 font-semibold uppercase text-sm">Without Glitch</span></div>
            <div className="space-y-3">{data.before.map((item, i) => (<motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 + i * 0.1 }} className="flex items-start gap-3 text-neutral-400 text-sm"><span className="text-neutral-600 mt-0.5">-</span><span>{item}</span></motion.div>))}</div>
          </motion.div>
          <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(34, 197, 94, 0.3)', boxShadow: '0 0 30px rgba(34, 197, 94, 0.1)' }}>
            <div className="flex items-center gap-2 mb-4"><div className="w-8 h-8 rounded-full flex items-center justify-center" style={{ background: 'rgba(34, 197, 94, 0.2)' }}><Icons.Check /></div><span className="text-green-400 font-semibold uppercase text-sm">With Glitch</span></div>
            <div className="space-y-3">{data.after.map((item, i) => (<motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 + i * 0.1 }} className="flex items-start gap-3 text-neutral-300 text-sm"><span className="text-green-500 mt-0.5">+</span><span>{item}</span></motion.div>))}</div>
          </motion.div>
        </div>
      </div>
    );

    // Highlight Box
    const HighlightBoxSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8"><h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2></motion.div>
        <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.2 }} className="rounded-2xl p-8 md:p-10" style={{ background: '#0a0a0a', border: '1px solid rgba(34, 197, 94, 0.3)', boxShadow: '0 0 40px rgba(34, 197, 94, 0.1)' }}>
          <p className="text-neutral-300 text-lg leading-relaxed mb-6">{data.body}</p>
          <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }} className="rounded-xl p-4" style={{ background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))', borderLeft: '4px solid #22C55E' }}>
            <p className="text-white font-medium text-lg italic">"{data.highlight}"</p>
          </motion.div>
        </motion.div>
      </div>
    );

    // Content
    const ContentSlide = ({ data }) => (<div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto py-8"><motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }}><h2 className="slide-title text-2xl md:text-3xl text-black mb-6">{data.title}</h2><p className="text-neutral-600 text-lg leading-relaxed">{data.body}</p></motion.div></div>);

    // Welcome
    const WelcomeSlide = ({ data }) => {
      const userName = getUserName();
      const greeting = window.getGreeting ? window.getGreeting() : 'Welcome';
      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>
            <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-6" style={{ background: 'rgba(34, 197, 94, 0.1)', color: '#22C55E' }}><Icons.Zap /><span>Growth Engine</span></div>
            <h1 className="slide-title text-3xl md:text-4xl lg:text-5xl text-black mb-4">{greeting}, {userName}!</h1>
            <p className="text-neutral-500 text-lg mb-8">Here's what you'll discover:</p>
            <div className="space-y-3">{data.learningGoals.map((goal, i) => (<motion.div key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 + i * 0.1 }} className="flex items-center gap-3 p-4 rounded-xl" style={{ background: '#fafafa', border: '1px solid #eee' }}><div className="w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold" style={{ background: '#22C55E' }}>{i + 1}</div><span className="text-neutral-700 font-medium">{goal}</span></motion.div>))}</div>
          </motion.div>
        </div>
      );
    };

    // Hook
    const HookSlide = ({ data }) => (<div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto py-8"><motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}><h2 className="slide-title text-2xl md:text-3xl lg:text-4xl text-black mb-6 leading-tight">{data.headline}</h2><p className="text-neutral-600 text-lg leading-relaxed">{data.subtext}</p></motion.div></div>);

    // Quiz
    const QuizSlide = ({ data }) => {
      const [selected, setSelected] = useState(null);
      const [showFeedback, setShowFeedback] = useState(false);
      const isCorrect = selected === data.correctIndex;
      const handleSelect = (i) => { if (!showFeedback) { setSelected(i); setShowFeedback(true); } };
      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto py-8">
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8"><div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(34, 197, 94, 0.1)', color: '#22C55E' }}><span>Quick Check</span></div><h2 className="slide-title text-xl md:text-2xl text-black">{data.question}</h2></motion.div>
          <div className="space-y-3 mb-8">{data.options.map((option, i) => (<motion.button key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.1 }} onClick={() => handleSelect(i)} disabled={showFeedback} className={`w-full p-4 rounded-xl text-left transition-all ${showFeedback ? (i === data.correctIndex ? 'ring-2 ring-green-500' : i === selected ? 'ring-2 ring-red-500' : '') : 'hover:bg-neutral-100'}`} style={{ background: showFeedback && i === data.correctIndex ? 'rgba(34, 197, 94, 0.1)' : showFeedback && i === selected && i !== data.correctIndex ? 'rgba(239, 68, 68, 0.1)' : '#fafafa', border: '1px solid #eee' }}><div className="flex items-center gap-3"><div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${showFeedback && i === data.correctIndex ? 'bg-green-500 text-white' : showFeedback && i === selected ? 'bg-red-500 text-white' : 'bg-white text-neutral-600 border border-neutral-200'}`}>{showFeedback && i === data.correctIndex ? <Icons.Check /> : showFeedback && i === selected ? <Icons.X /> : String.fromCharCode(65 + i)}</div><span className="text-neutral-700">{option}</span></div></motion.button>))}</div>
          <AnimatePresence>{showFeedback && (<motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="rounded-xl p-6" style={{ background: isCorrect ? 'rgba(34, 197, 94, 0.1)' : 'rgba(239, 68, 68, 0.1)', border: `1px solid ${isCorrect ? 'rgba(34, 197, 94, 0.3)' : 'rgba(239, 68, 68, 0.3)'}` }}><div className={`font-bold mb-2 ${isCorrect ? 'text-green-600' : 'text-red-600'}`}>{isCorrect ? 'Correct!' : 'Not quite!'}</div><p className="text-neutral-600 text-sm">{isCorrect ? data.feedback.correct : data.feedback.incorrect}</p></motion.div>)}</AnimatePresence>
        </div>
      );
    };

    // Completion
    const CompletionSlide = ({ data }) => {
      const userName = getUserName();
      return (<div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-3xl mx-auto py-8 text-center"><motion.div initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }}><div className="w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6" style={{ background: 'linear-gradient(135deg, #22C55E, #16A34A)' }}><Icons.Check /></div><h2 className="slide-title text-2xl md:text-3xl text-black mb-4">Lesson Complete!</h2><p className="text-neutral-500 text-lg mb-8">Great work, {userName}! You now understand how to activate the infinite money glitch.</p>{LESSON_CONFIG.nextLesson && (<motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }} className="rounded-xl p-6 text-left" style={{ background: '#0a0a0a', border: '1px solid #222' }}><div className="text-xs text-neutral-500 uppercase tracking-wider mb-2">Up Next</div><h3 className="text-white font-bold text-lg mb-1">{LESSON_CONFIG.nextLesson.title}</h3><p className="text-neutral-400 text-sm">{LESSON_CONFIG.nextLesson.teaser}</p></motion.div>)}</motion.div></div>);
    };

    // Router
    const SlideRouter = ({ slide }) => {
      switch (slide.type) {
        case 'welcome': return <WelcomeSlide data={slide} />;
        case 'hook': return <HookSlide data={slide} />;
        case 'flywheel-visual': return <FlywheelVisualSlide data={slide} />;
        case 'math-visual': return <MathVisualSlide data={slide} />;
        case 'content': return <ContentSlide data={slide} />;
        case 'stat-countdown': return <StatCountdownSlide data={slide} />;
        case 'requirements-visual': return <RequirementsVisualSlide data={slide} />;
        case 'before-after': return <BeforeAfterSlide data={slide} />;
        case 'tool-integration': return <ToolIntegrationSlide data={slide} />;
        case 'highlight-box': return <HighlightBoxSlide data={slide} />;
        case 'quiz': return <QuizSlide data={slide} />;
        case 'completion': return <CompletionSlide data={slide} />;
        default: return <ContentSlide data={slide} />;
      }
    };

    const ProgressDots = ({ current, total }) => (<div className="flex items-center gap-1">{Array.from({ length: total }).map((_, i) => (<div key={i} className={`h-1 rounded-full transition-all ${i === current ? 'w-6' : 'w-1'}`} style={{ background: i === current ? '#22C55E' : i < current ? '#22C55E80' : '#E5E7EB' }} />))}</div>);

    const App = () => {
      const [currentSlide, setCurrentSlide] = useState(0);
      const totalSlides = slides.length;
      const goNext = useCallback(() => { if (currentSlide < totalSlides - 1) setCurrentSlide(prev => prev + 1); }, [currentSlide, totalSlides]);
      const goPrev = useCallback(() => { if (currentSlide > 0) setCurrentSlide(prev => prev - 1); }, [currentSlide]);
      useEffect(() => { const handleKeyDown = (e) => { if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); goNext(); } else if (e.key === 'ArrowLeft') { e.preventDefault(); goPrev(); } }; window.addEventListener('keydown', handleKeyDown); return () => window.removeEventListener('keydown', handleKeyDown); }, [goNext, goPrev]);

      return (
        <div className="min-h-screen bg-white">
          <header className="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-sm border-b border-neutral-100"><div className="max-w-5xl mx-auto px-4 h-14 flex items-center justify-between"><div className="flex items-center gap-3"><button onClick={goPrev} disabled={currentSlide === 0} className="p-2 rounded-lg hover:bg-neutral-100 disabled:opacity-30 transition-all"><Icons.ArrowLeft /></button><ProgressDots current={currentSlide} total={totalSlides} /><button onClick={goNext} disabled={currentSlide === totalSlides - 1} className="p-2 rounded-lg hover:bg-neutral-100 disabled:opacity-30 transition-all"><Icons.ArrowRight /></button></div><div className="flex items-center gap-2 text-neutral-400 text-sm"><Icons.Clock /><span>{LESSON_CONFIG.duration}</span></div></div></header>
          <main className="pt-14 min-h-screen"><AnimatePresence mode="wait"><motion.div key={currentSlide} initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} transition={{ duration: 0.3 }} className="min-h-[calc(100vh-3.5rem)]"><SlideRouter slide={slides[currentSlide]} /></motion.div></AnimatePresence></main>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

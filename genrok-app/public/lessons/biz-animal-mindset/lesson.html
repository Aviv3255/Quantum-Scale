<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Animal Mindset | Quantum Scale</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
  <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js" defer></script>
  <script src="../shared/greetings.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <link rel="preconnect" href="https://pqvvrljykfvhpyvxmwzb.supabase.co" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --accent: #F59E0B; --accent-dark: #D97706; --accent-light: #FBBF24; --accent-rgb: 245, 158, 11; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: transparent; -webkit-font-smoothing: antialiased; }
    .title-font { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    h1, h2, h3, .slide-title { font-family: 'Fraunces', serif; font-weight: 900; letter-spacing: -0.02em; line-height: 1.1; }
    ::selection { background: var(--accent); color: white; }
    .slide-scroll::-webkit-scrollbar { display: none; }
    .slide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { motion, AnimatePresence } = window.Motion;
    const { useState, useEffect, useCallback, useMemo } = React;

    const getUserName = () => { const params = new URLSearchParams(window.location.search); return params.get('userName') || 'Builder'; };

    const LESSON_CONFIG = {
      id: 'biz-animal-mindset',
      title: 'The Animal Mindset',
      description: 'Relentless action beats perfect strategy every time',
      accentColor: '#F59E0B',
      duration: '5 min',
      nextLesson: { id: 'biz-channel-cac-decoder', title: 'The Channel CAC Decoder', teaser: 'Why your CAC is lying to you.' }
    };

    const celebrationGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_a_quick_victory_dance_move_high_energy_c_d03b798b-a518-4e6c-bcae-d69b2dd50486_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_jumping_in_the_air_arms_raised_high_YESSS_cele_201477e8-3df4-405a-bc81-81d1747e5c6c_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_playing_air_guitar_light_headbanging_rockstar__0702007e-9e84-4d9e-8f99-8ee23d0b65f8_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_doing_the_running_man_dance_move_vintage_cool__25682b0f-cf4c-4e93-8dcb-6c3dac8135cd_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_standing_and_clapping_enthusiastically_mouth_o_992ac4fd-9a0e-4963-bbcc-a5271f25f4fd_3.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_clapping_very_fast_huge_smile_extreme_exciteme_9a4dde09-55ca-4173-a47d-613bc2924230_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_clapping_above_head_world_champion_celebration_484bd560-f049-41ca-b3d1-c03d7468ab56_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_starting_with_slow_clap_accelerating_to_fast_c_ee478a38-0ee7-437d-bd13-d687f7dd624a_0.mp4'
    ];
    const getRandomCelebrationGif = () => celebrationGifs[Math.floor(Math.random() * celebrationGifs.length)];

    const empathyGifs = [
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_thumbs_down_with_encouraging_nod_close_keep_go_613e541f-c072-436f-aee7-f99cd6f834fc_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_shaking_head_side_to_side_sadly_disappointed_e_c4a4be22-6a70-4738-8612-3039454fef37_1.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_covering_face_with_palm_facepalm_gesture_disap_211b0566-078f-4d42-9c41-547b14f5827c_0.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_looking_down_sadly_shoulders_slumped_disappoin_790d48bd-e49e-40ea-9979-d3e86fa3a422_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_wiping_away_a_small_tear_sad_but_gentle_disapp_8d78571b-3c36-4502-abee-81683255843c_1.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_sighing_sadly_exhaling_with_disappointment_hea_f6014f2a-3a99-4378-a2a8-414e16b3e72d_2.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_slouching_with_disappointment_body_curling_inw_caedddbe-413c-492a-9fdf-1e8433f5e2a8_2%20(1).mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_placing_hand_on_forehead_sadly_eyes_closed_fru_3e048895-f365-4ff2-9e88-0d0a35b2a9e1_3.mp4',
      'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/aviv3255_He_is_nodding_slowly_with_sadness_what_a_shame_expre_377f67ca-63da-41aa-9072-4926fc2f6e82_3.mp4'
    ];
    const getRandomEmpathyGif = () => empathyGifs[Math.floor(Math.random() * empathyGifs.length)];

    const slides = [
      { type: 'welcome', learningGoals: ['Why action beats perfect strategy', 'The mindset of 8-figure founders', 'How to develop relentless execution'] },
      { type: 'hook', headline: 'Davie Fogarty built a $150M empire. Not with a perfect plan. With relentless action.', subtext: 'While most entrepreneurs spend months perfecting their strategy, Davie launched products weekly. While others analyzed, he tested. While others planned, he executed. He calls it the "Animal Mindset." It is not about being smart. It is about being relentless.' , brandImage: 'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/The_Oodie_logo.webp', brandName: 'Oodie' },
      { type: 'founder-spotlight', name: 'Davie Fogarty', company: 'The Oodie', revenue: '$150M+', image: 'https://pqvvrljykfvhpyvxmwzb.supabase.co/storage/v1/object/public/images/DavieFogarty.png', quote: 'Be an animal. Test everything. Fear nothing. Move fast. Most people overthink. Winners out-execute.', philosophy: 'Launch fast, learn faster, iterate relentlessly' },
      { type: 'content', title: 'The Overthinking Epidemic', body: 'Most entrepreneurs are paralyzed by analysis. They spend weeks choosing between two ad images. Months deciding on a product name. Years building the "perfect" funnel. Meanwhile, the animals are launching. Testing. Failing. Learning. Iterating. They do in a week what others do in a quarter. And that velocity compounds into an insurmountable advantage.' },
      { type: 'comparison-cards', title: 'Planners vs Animals', left: { label: 'THE PLANNERS', iconComponent: 'Brain', value: '95%', subtext: 'of entrepreneurs', items: ['Perfect the strategy first', 'Launch when it is "ready"', 'Avoid failure at all costs', 'One launch per quarter'], color: 'gray' }, right: { label: 'THE ANIMALS', iconComponent: 'Zap', value: '5%', subtext: 'of entrepreneurs', items: ['Strategy emerges from action', 'Launch to learn what works', 'Fail fast, pivot faster', 'Multiple launches per week'], color: 'orange' } },
      { type: 'velocity-metric', title: 'The Velocity Advantage', metrics: [
        { label: 'Products tested per month', planner: 1, animal: 12, unit: 'products' },
        { label: 'Ad creatives tested', planner: 5, animal: 50, unit: 'creatives' },
        { label: 'Time to first $1M', planner: '24 months', animal: '6 months', unit: '' },
        { label: 'Learning cycles per year', planner: 12, animal: 156, unit: 'cycles' }
      ]},
      { type: 'stat-countdown', title: 'The Numbers Do Not Lie', stats: [
        { value: 12, suffix: 'x', label: 'More Tests', subtext: 'Animals run per month' },
        { value: 4, suffix: 'x', label: 'Faster Growth', subtext: 'Speed to first million' },
        { value: 156, suffix: '', label: 'Learning Cycles', subtext: 'Per year vs 12 for planners' }
      ]},
      { type: 'content', title: 'Why Speed Wins', body: 'Every test is data. Every failure is feedback. Every launch is a learning cycle. When you run 12 tests while your competitor runs 1, you are not 12x ahead. You are exponentially ahead. Because each test informs the next. Compound learning is more powerful than compound interest. The animal knows this. That is why they never stop moving.' },
      { type: 'mindset-framework', title: 'The Animal Framework', principles: [
        { icon: 'Rocket', title: 'LAUNCH BEFORE READY', description: 'Your first version will be wrong. Launch it anyway. Real market feedback beats hypothetical planning every time.', color: '#F59E0B' },
        { icon: 'RefreshCcw', title: 'FAIL FORWARD', description: 'Every failed test eliminates a bad path. Failures are not setbacks. They are accelerators to the right answer.', color: '#EF4444' },
        { icon: 'Zap', title: 'SPEED AS STRATEGY', description: 'While others debate, you decide. While others plan, you execute. Velocity is your competitive moat.', color: '#22C55E' },
        { icon: 'Target', title: 'DATA OVER OPINIONS', description: 'Let the market tell you what works. Your assumptions are usually wrong. Test everything, believe nothing.', color: '#3B82F6' }
      ]},
      { type: 'before-after', title: 'Planner vs Animal Thinking', before: ['"I need more research first"', '"What if it fails?"', '"Let me perfect the copy"', '"The timing isn\'t right"', '"I\'ll launch when it\'s ready"'], after: ['"I\'ll learn by launching"', '"Failure is data"', '"Test will show me what works"', '"Now is always the right time"', '"It\'ll be ready after 10 tests"'] },
      { type: 'action-checklist', title: 'Become The Animal', subtitle: 'Your weekly execution checklist', items: [
        { task: 'Launch at least 3 new ad creatives', frequency: 'Weekly', impact: 'High' },
        { task: 'Test 1 new product or offer', frequency: 'Weekly', impact: 'High' },
        { task: 'Kill what is not working within 48 hours', frequency: 'Ongoing', impact: 'Critical' },
        { task: 'Double down on winners within 24 hours', frequency: 'Ongoing', impact: 'Critical' },
        { task: 'Document learnings from every test', frequency: 'Daily', impact: 'Medium' },
        { task: 'Set next week\'s test targets', frequency: 'Sunday', impact: 'High' }
      ]},
      { type: 'highlight-box', title: 'The Animal Advantage', body: 'The animal is not smarter. They are not better funded. They do not have better connections. They just move faster. They treat every assumption as a hypothesis to test, not a truth to protect. They let the market be their teacher. While everyone else is still in the planning phase, the animal is already on iteration number ten. That is the gap that cannot be closed by strategy alone. Only by becoming an animal yourself.', highlight: 'While everyone else is still planning, the animal is already on iteration number ten.' },
      { type: 'quiz', question: 'What is the core principle of the Animal Mindset?', options: ['Perfect your strategy before launching', 'Relentless action and rapid iteration', 'Wait for the right market timing', 'Study competitors before making moves'], correctIndex: 1, feedback: { correct: 'Exactly. The Animal Mindset is about relentless execution. Launch fast, fail fast, learn fast. Strategy emerges from action, not from planning. The animals win because they compress years of learning into months through sheer velocity.', incorrect: 'Not quite. The Animal Mindset is all about relentless action and rapid iteration. Forget perfect planning. Launch before you are ready. Test everything. Let the market teach you what works. Speed is the strategy.' }},
      { type: 'completion', sources: [] }
    ];

    // Icons
    const Icons = {
      Clock: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
      Check: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
      X: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
      ArrowLeft: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
      ArrowRight: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
      Zap: ({ size = 18, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
      Brain: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/></svg>,
      Rocket: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>,
      RefreshCcw: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>,
      Target: ({ size = 24, color = 'currentColor' }) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
    };

    // Animated Counter
    const AnimatedCounter = ({ target, suffix = '', prefix = '', duration = 2000 }) => {
      const [count, setCount] = useState(0);
      useEffect(() => {
        let start = 0;
        const increment = target / (duration / 16);
        const timer = setInterval(() => {
          start += increment;
          if (start >= target) { setCount(target); clearInterval(timer); }
          else { setCount(Math.floor(start)); }
        }, 16);
        return () => clearInterval(timer);
      }, [target, duration]);
      return <span>{prefix}{count}{suffix}</span>;
    };

    // Founder Spotlight Slide
    const FounderSpotlightSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-6">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>
            <Icons.Zap size={14} color="var(--accent)" />
            <span>Case Study</span>
          </div>
        </motion.div>

        <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.2 }} className="rounded-2xl p-6 md:p-8" style={{ background: '#0a0a0a', border: '1px solid #222', boxShadow: '0 0 40px rgba(var(--accent-rgb), 0.1)' }}>
          <div className="flex flex-col md:flex-row gap-6 items-center">
            <div className="w-32 h-32 md:w-40 md:h-40 rounded-2xl overflow-hidden flex-shrink-0" style={{ border: '2px solid var(--accent)' }}>
              <img src={data.image} alt={data.name} className="w-full h-full object-cover" />
            </div>
            <div className="text-center md:text-left">
              <h2 className="text-2xl md:text-3xl font-bold text-white mb-1">{data.name}</h2>
              <p className="font-medium mb-2" style={{ color: 'var(--accent)' }}>{data.company} â€¢ {data.revenue}</p>
              <p className="text-neutral-400 text-sm mb-4">{data.philosophy}</p>
              <div className="rounded-xl p-4" style={{ background: '#1a1a1a', borderLeft: '3px solid var(--accent)' }}>
                <p className="text-neutral-200 italic text-sm">"{data.quote}"</p>
              </div>
            </div>
          </div>
        </motion.div>
      </div>
    );

    // Velocity Metric Slide
    const VelocityMetricSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>
            <Icons.Zap size={14} color="var(--accent)" />
            <span>Speed Matters</span>
          </div>
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <div className="space-y-4">
          {data.metrics.map((metric, i) => (
            <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 + i * 0.1 }} className="rounded-xl p-5" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
              <div className="text-sm text-neutral-400 mb-3">{metric.label}</div>
              <div className="grid grid-cols-2 gap-4">
                <div className="text-center">
                  <div className="text-xs text-neutral-500 uppercase tracking-wider mb-2">Planner</div>
                  <div className="text-2xl font-bold text-neutral-400">{metric.planner}</div>
                  <div className="text-xs text-neutral-500">{metric.unit}</div>
                </div>
                <div className="text-center">
                  <div className="text-xs uppercase tracking-wider mb-2" style={{ color: 'var(--accent)' }}>Animal</div>
                  <div className="text-2xl font-bold" style={{ color: 'var(--accent)' }}>{metric.animal}</div>
                  <div className="text-xs text-neutral-500">{metric.unit}</div>
                </div>
              </div>
              <div className="mt-4 flex items-center gap-2">
                <div className="flex-grow h-2 rounded-full overflow-hidden" style={{ background: '#1f1f1f' }}>
                  <motion.div className="h-full rounded-full" initial={{ width: 0 }} animate={{ width: '100%' }} transition={{ duration: 1, delay: 0.3 + i * 0.1 }} style={{ background: 'linear-gradient(90deg, #6B7280, var(--accent))', boxShadow: '0 0 10px rgba(var(--accent-rgb), 0.3)' }} />
                </div>
                <span className="text-xs font-bold" style={{ color: 'var(--accent)' }}>
                  {typeof metric.animal === 'number' && typeof metric.planner === 'number' ? `${Math.round(metric.animal / metric.planner)}x` : ''}
                </span>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    );

    // Mindset Framework Slide
    const MindsetFrameworkSlide = ({ data }) => {
      const IconComponent = (name, color) => {
        const iconMap = { Rocket: Icons.Rocket, RefreshCcw: Icons.RefreshCcw, Zap: Icons.Zap, Target: Icons.Target };
        const Icon = iconMap[name] || Icons.Target;
        return <Icon size={24} color={color} />;
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8 slide-scroll overflow-y-auto">
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
            <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
          </motion.div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            {data.principles.map((principle, i) => (
              <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 + i * 0.1 }} className="rounded-xl p-5" style={{ background: '#0a0a0a', border: `1px solid ${principle.color}30` }}>
                <div className="flex items-start gap-4">
                  <div className="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0" style={{ background: `${principle.color}15` }}>
                    {IconComponent(principle.icon, principle.color)}
                  </div>
                  <div>
                    <h3 className="text-white font-bold text-sm mb-2" style={{ color: principle.color }}>{principle.title}</h3>
                    <p className="text-neutral-400 text-sm leading-relaxed">{principle.description}</p>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      );
    };

    // Action Checklist Slide
    const ActionChecklistSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: 'rgba(var(--accent-rgb), 0.1)', color: 'var(--accent)' }}>
            <Icons.Check />
            <span>Action Plan</span>
          </div>
          <h2 className="slide-title text-2xl md:text-3xl text-black mb-2">{data.title}</h2>
          <p className="text-neutral-500 text-sm">{data.subtitle}</p>
        </motion.div>

        <div className="space-y-3">
          {data.items.map((item, i) => (
            <motion.div key={i} initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.1 + i * 0.08 }} className="rounded-xl p-4 flex items-center justify-between" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
              <div className="flex items-center gap-3">
                <div className="w-6 h-6 rounded-md flex items-center justify-center" style={{ background: item.impact === 'Critical' ? 'rgba(239, 68, 68, 0.2)' : item.impact === 'High' ? 'rgba(var(--accent-rgb), 0.2)' : 'rgba(34, 197, 94, 0.2)' }}>
                  <div className="w-2 h-2 rounded-full" style={{ background: item.impact === 'Critical' ? '#EF4444' : item.impact === 'High' ? 'var(--accent)' : '#22C55E' }} />
                </div>
                <span className="text-neutral-200 text-sm">{item.task}</span>
              </div>
              <div className="flex items-center gap-2">
                <span className="px-2 py-1 rounded text-xs font-medium" style={{ background: '#1a1a1a', color: '#9CA3AF' }}>{item.frequency}</span>
                <span className="px-2 py-1 rounded text-xs font-bold" style={{ background: item.impact === 'Critical' ? 'rgba(239, 68, 68, 0.2)' : item.impact === 'High' ? 'rgba(var(--accent-rgb), 0.2)' : 'rgba(34, 197, 94, 0.2)', color: item.impact === 'Critical' ? '#EF4444' : item.impact === 'High' ? 'var(--accent)' : '#22C55E' }}>{item.impact}</span>
              </div>
            </motion.div>
          ))}
        </div>
      </div>
    );

    // Comparison Cards Slide
    const ComparisonCardsSlide = ({ data }) => {
      const IconComponent = (name, color) => {
        const iconMap = { Brain: Icons.Brain, Zap: Icons.Zap, Target: Icons.Target };
        const Icon = iconMap[name] || Icons.Target;
        return <Icon size={28} color={color} />;
      };

      return (
        <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8 slide-scroll overflow-y-auto">
          <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
            <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
          </motion.div>

          <div className="grid md:grid-cols-2 gap-6">
            <motion.div initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(107, 114, 128, 0.3)' }}>
              <div className="flex items-center gap-3 mb-4">
                <div className="w-12 h-12 rounded-xl flex items-center justify-center" style={{ background: 'rgba(107, 114, 128, 0.1)' }}>
                  {IconComponent(data.left.iconComponent, '#6B7280')}
                </div>
                <div>
                  <span className="text-xs text-neutral-500 font-semibold uppercase tracking-wider">{data.left.label}</span>
                  <div className="text-2xl font-bold text-neutral-400">{data.left.value}</div>
                </div>
              </div>
              <p className="text-neutral-500 text-sm mb-4">{data.left.subtext}</p>
              <div className="space-y-2">
                {data.left.items.map((item, i) => (
                  <motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 + i * 0.1 }} className="flex items-center gap-2 text-sm">
                    <span className="text-neutral-500">-</span>
                    <span className="text-neutral-400">{item}</span>
                  </motion.div>
                ))}
              </div>
            </motion.div>

            <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(var(--accent-rgb), 0.3)', boxShadow: '0 0 30px rgba(var(--accent-rgb), 0.1)' }}>
              <div className="flex items-center gap-3 mb-4">
                <div className="w-12 h-12 rounded-xl flex items-center justify-center" style={{ background: 'rgba(var(--accent-rgb), 0.1)' }}>
                  {IconComponent(data.right.iconComponent, 'var(--accent)')}
                </div>
                <div>
                  <span className="text-xs font-semibold uppercase tracking-wider" style={{ color: 'var(--accent)' }}>{data.right.label}</span>
                  <div className="text-2xl font-bold" style={{ color: 'var(--accent)' }}>{data.right.value}</div>
                </div>
              </div>
              <p className="text-neutral-400 text-sm mb-4">{data.right.subtext}</p>
              <div className="space-y-2">
                {data.right.items.map((item, i) => (
                  <motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.5 + i * 0.1 }} className="flex items-center gap-2 text-sm">
                    <span style={{ color: 'var(--accent)' }}><Icons.Check /></span>
                    <span className="text-neutral-300">{item}</span>
                  </motion.div>
                ))}
              </div>
            </motion.div>
          </div>
        </div>
      );
    };

    // Stat Countdown Slide
    const StatCountdownSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-10">
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          {data.stats.map((stat, i) => (
            <motion.div key={i} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 + i * 0.15 }} className="rounded-2xl p-6 text-center" style={{ background: '#0a0a0a', border: '1px solid #222' }}>
              <div className="text-5xl md:text-6xl font-bold mb-2" style={{ color: 'var(--accent)' }}>
                <AnimatedCounter target={stat.value} suffix={stat.suffix} duration={2000 + i * 500} />
              </div>
              <div className="text-white font-medium mb-1">{stat.label}</div>
              <div className="text-neutral-500 text-sm">{stat.subtext}</div>
            </motion.div>
          ))}
        </div>
      </div>
    );

    // Before/After Slide
    const BeforeAfterSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-5xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <div className="grid md:grid-cols-2 gap-6">
          <motion.div initial={{ opacity: 0, x: -30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(107, 114, 128, 0.3)' }}>
            <div className="flex items-center gap-2 mb-4">
              <Icons.Brain size={20} color="#6B7280" />
              <span className="text-neutral-500 font-semibold uppercase text-sm tracking-wider">Planner Thinking</span>
            </div>
            <div className="space-y-3">
              {data.before.map((item, i) => (
                <motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 + i * 0.1 }} className="flex items-start gap-3 text-neutral-400 text-sm">
                  <span className="text-neutral-600 mt-0.5">-</span>
                  <span>{item}</span>
                </motion.div>
              ))}
            </div>
          </motion.div>

          <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3 }} className="rounded-2xl p-6" style={{ background: '#0a0a0a', border: '1px solid rgba(var(--accent-rgb), 0.3)', boxShadow: '0 0 30px rgba(var(--accent-rgb), 0.1)' }}>
            <div className="flex items-center gap-2 mb-4">
              <Icons.Zap size={20} color="var(--accent)" />
              <span className="font-semibold uppercase text-sm tracking-wider" style={{ color: 'var(--accent)' }}>Animal Thinking</span>
            </div>
            <div className="space-y-3">
              {data.after.map((item, i) => (
                <motion.div key={i} initial={{ opacity: 0, x: -10 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 + i * 0.1 }} className="flex items-start gap-3 text-neutral-300 text-sm">
                  <span style={{ color: 'var(--accent)' }}>+</span>
                  <span>{item}</span>
                </motion.div>
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    );

    // Highlight Box Slide
    const HighlightBoxSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-6 md:px-12 max-w-4xl mx-auto py-8 slide-scroll overflow-y-auto">
        <motion.div initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} className="text-center mb-8">
          <h2 className="slide-title text-2xl md:text-3xl text-black">{data.title}</h2>
        </motion.div>

        <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: 0.2 }} className="rounded-2xl p-8 md:p-10" style={{ background: '#0a0a0a', border: '1px solid rgba(var(--accent-rgb), 0.3)', boxShadow: '0 0 40px rgba(var(--accent-rgb), 0.1)' }}>
          <p className="text-neutral-300 text-lg leading-relaxed mb-6">{data.body}</p>
          <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.5 }} className="rounded-xl p-4" style={{ background: 'linear-gradient(135deg, rgba(var(--accent-rgb), 0.15), rgba(var(--accent-rgb), 0.05))', borderLeft: '4px solid var(--accent)' }}>
            <p className="text-white font-medium text-lg italic">"{data.highlight}"</p>
          </motion.div>
        </motion.div>
      </div>
    );

    // Content Slide
    const ContentSlide = ({ data }) => (
      <div className="h-full flex flex-col justify-center px-8 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-10">
        <motion.h2 initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="slide-title text-2xl md:text-3xl lg:text-4xl text-black mb-6">{data.title}</motion.h2>
        <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }} className="text-base md:text-lg text-neutral-600 leading-relaxed">{data.body}</motion.p>
      
        {data.characterVideo && (
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.4, duration: 0.5 }}
            className={`absolute bottom-0 ${data.characterPosition === 'left' ? 'left-4' : 'right-4'} z-0 pointer-events-none`}
            style={{ height: '25%', maxHeight: '180px', marginBottom: '3%' }}>
            <video autoPlay loop muted playsInline className="h-full w-auto object-contain object-bottom">
              <source src={data.characterVideo} type="video/mp4" />
            </video>
          </motion.div>
        )}
      </div>
    );

    // Hook Slide
    const HookSlide = ({ data }) => (
      <div className="h-full relative overflow-hidden">
        <div className="h-full flex flex-col justify-center px-8 md:px-16 max-w-3xl mx-auto slide-scroll overflow-y-auto py-10 relative z-10">
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="mb-6">
            <span className="inline-block px-3 py-1 rounded-full text-xs font-semibold mb-4" style={{ background: `rgba(var(--accent-rgb), 0.1)`, color: 'var(--accent)' }}>The Hook</span>
            <h2 className="slide-title text-3xl md:text-4xl lg:text-5xl text-black leading-tight">{data.headline}</h2>
          </motion.div>
          <motion.p initial={{ opacity: 0, y: 15 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.15 }} className="text-lg md:text-xl text-neutral-600 leading-relaxed">{data.subtext}</motion.p>
        </div>
        {data.brandImage && (
          <motion.div initial={{ opacity: 0, x: 30 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.3, duration: 0.5 }}
            className="absolute bottom-0 right-0 z-0 pointer-events-none" style={{ height: '30%', maxHeight: '200px', marginRight: '3%', marginBottom: '5%' }}>
            <img src={data.brandImage} alt={data.brandName || ''} className="h-full w-auto object-contain" style={{ opacity: 1 }} />
          </motion.div>
        )}
      </div>
    );
      const currentSlideRef = React.useRef(0);
      const [gifConfig, setGifConfig] = useState(null);
      const [isAnimating, setIsAnimating] = useState(false);

      const showGif = useCallback((url, height, side) => setGifConfig({ url, height, side }), []);
      const hideGif = useCallback(() => setGifConfig(null), []);

      React.useEffect(() => { currentSlideRef.current = currentSlide; }, [currentSlide]);

      const goToSlide = useCallback((newSlide) => {
        if (isAnimating || newSlide < 0 || newSlide >= slides.length) return;
        setIsAnimating(true);
        setDirection(newSlide > currentSlideRef.current ? 1 : -1);
        setCurrentSlide(newSlide);
      }, [isAnimating]);

      const nextSlide = useCallback(() => { if (currentSlideRef.current + 1 < slides.length) goToSlide(currentSlideRef.current + 1); }, [goToSlide]);
      const prevSlide = useCallback(() => { if (currentSlideRef.current - 1 >= 0) goToSlide(currentSlideRef.current - 1); }, [goToSlide]);

      useEffect(() => {
        const handleKeyDown = (e) => {
          if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
          if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
        };
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [nextSlide, prevSlide]);

      const slideVariants = {
        enter: (dir) => ({ x: dir > 0 ? '100%' : '-100%', opacity: 0 }),
        center: { x: 0, opacity: 1 },
        exit: (dir) => ({ x: dir > 0 ? '-100%' : '100%', opacity: 0 })
      };

      const renderSlide = (slide) => {
        switch (slide.type) {
          case 'welcome': return <WelcomeSlide data={slide} onStart={nextSlide} userName={userName} onShowGif={showGif} onHideGif={hideGif} />;
          case 'hook': return <HookSlide data={slide} />;
          case 'founder-spotlight': return <FounderSpotlightSlide data={slide} />;
          case 'content': return <ContentSlide data={slide} />;
          case 'comparison-cards': return <ComparisonCardsSlide data={slide} />;
          case 'velocity-metric': return <VelocityMetricSlide data={slide} />;
          case 'stat-countdown': return <StatCountdownSlide data={slide} />;
          case 'mindset-framework': return <MindsetFrameworkSlide data={slide} />;
          case 'before-after': return <BeforeAfterSlide data={slide} />;
          case 'action-checklist': return <ActionChecklistSlide data={slide} />;
          case 'highlight-box': return <HighlightBoxSlide data={slide} />;
          case 'quiz': return <QuizSlide data={slide} onShowGif={showGif} onHideGif={hideGif} />;
          case 'completion': return <CompletionSlide data={slide} />;
          default: return null;
        }
      };

      const showPrev = currentSlide > 0;
      const showNext = currentSlide < slides.length - 1 && slides[currentSlide].type !== 'welcome';

      return (
        <div className="w-full h-screen bg-white flex flex-col relative">
          <div className="flex-1 relative overflow-hidden z-20">
            <AnimatePresence mode="wait" custom={direction} onExitComplete={() => setIsAnimating(false)}>
              <motion.div key={currentSlide} custom={direction} variants={slideVariants} initial="enter" animate="center" exit="exit" transition={{ duration: 0.3, ease: [0.25, 0.1, 0.25, 1] }} className="absolute inset-0">
                {renderSlide(slides[currentSlide])}
              </motion.div>
            </AnimatePresence>
            {showPrev && <button onClick={prevSlide} className="absolute left-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowLeft /></button>}
            {showNext && <button onClick={nextSlide} className="absolute right-5 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-neutral-500 hover:text-neutral-700 transition-all z-10"><Icons.ArrowRight /></button>}
          </div>
          <div className="px-6 md:px-8 py-5 border-t border-neutral-100 flex-shrink-0 relative z-10">
            <div className="flex items-center justify-center gap-2.5">
              {slides.map((_, i) => <button key={i} onClick={() => goToSlide(i)} className="w-2.5 h-2.5 rounded-full transition-all duration-300" style={{ background: i === currentSlide ? 'var(--accent)' : '#d4d4d4', transform: i === currentSlide ? 'scale(1.3)' : 'scale(1)' }} />)}
            </div>
          </div>
          <AnimatePresence>
            {gifConfig && (
              <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 30 }} transition={{ type: 'spring', stiffness: 100 }} className={`absolute ${gifConfig.side === 'left' ? 'left-4 md:left-8' : 'right-4 md:right-8'} bottom-0 pointer-events-none`} style={{ zIndex: 15, height: gifConfig.height }}>
                <video autoPlay loop muted playsInline className="h-full w-auto object-contain object-bottom" style={{ background: 'transparent', border: 'none', boxShadow: 'none' }}>
                  <source src={gifConfig.url} type="video/mp4" />
                </video>
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      );
    };

    ReactDOM.render(<LessonApp />, document.getElementById('root'));
  </script>
</body>
</html>
